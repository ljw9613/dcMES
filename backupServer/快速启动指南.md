# å¾·æ˜ŒMESå¢é‡å¤‡ä»½ç³»ç»Ÿ - å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿå¯åŠ¨

### ç¬¬ä¸€æ­¥ï¼šç³»ç»Ÿæ£€æŸ¥
è¿è¡Œæµ‹è¯•è„šæœ¬ç¡®ä¿ç³»ç»Ÿç¯å¢ƒæ­£å¸¸ï¼š
```bash
node test_incremental_backup.js
```

### ç¬¬äºŒæ­¥ï¼šå¯åŠ¨å¤‡ä»½æœåŠ¡
**Windows ç”¨æˆ·ï¼ˆæ¨èï¼‰:**
```bash
# è¿›å…¥backupServerç›®å½•
cd backupServer
start_incremental_backup.bat start
```

**Linux/Mac ç”¨æˆ·:**
```bash
# è¿›å…¥backupServerç›®å½•
cd backupServer
node incremental_backup_manager.js --start
```

### ç¬¬ä¸‰æ­¥ï¼šéªŒè¯æœåŠ¡çŠ¶æ€
```bash
# Windows
start_incremental_backup.bat status

# Linux/Mac  
node incremental_backup_manager.js --status
```

## ğŸ“‹ å¤‡ä»½ç­–ç•¥æ¦‚è§ˆ

| é›†åˆç±»å‹ | å¤‡ä»½é¢‘ç‡ | ä¿ç•™æ—¶é—´ | å¤‡ä»½æ—¶é—´ |
|---------|---------|---------|---------|
| ğŸ”¥ çƒ­ç‚¹é›†åˆ | æ¯å°æ—¶ | 3å¤© | æ¯å°æ—¶æ•´ç‚¹ |
| ğŸ’ æ ¸å¿ƒé›†åˆ | 6å°æ—¶ | 7å¤© | 6:00, 12:00, 18:00, 0:00 |
| âš™ï¸ é…ç½®é›†åˆ | æ¯æ—¥ | 30å¤© | æ¯å¤© 2:00 |
| ğŸ“Š åˆ†æé›†åˆ | æ¯æ—¥ | 15å¤© | æ¯å¤© 3:00 |

## ğŸ“ å¤‡ä»½æ–‡ä»¶ä½ç½®

é»˜è®¤å¤‡ä»½è·¯å¾„ï¼š`D:/incrementalBackups/`
```
D:/incrementalBackups/
â”œâ”€â”€ hot/        # çƒ­ç‚¹é›†åˆå¤‡ä»½ï¼ˆAPIæ—¥å¿—ã€æ‰«ç è®°å½•ç­‰ï¼‰
â”œâ”€â”€ core/       # æ ¸å¿ƒé›†åˆå¤‡ä»½ï¼ˆç”Ÿäº§æ•°æ®ã€æµç¨‹æ•°æ®ç­‰ï¼‰
â”œâ”€â”€ config/     # é…ç½®é›†åˆå¤‡ä»½ï¼ˆç”¨æˆ·æƒé™ã€ç³»ç»Ÿé…ç½®ç­‰ï¼‰
â”œâ”€â”€ analytics/  # åˆ†æé›†åˆå¤‡ä»½ï¼ˆç»Ÿè®¡æ•°æ®ã€æŠ¥è¡¨æ•°æ®ç­‰ï¼‰
â””â”€â”€ logs/       # ç³»ç»Ÿæ—¥å¿—
```

## âš¡ å¸¸ç”¨å‘½ä»¤

### ç«‹å³æ‰§è¡Œå¤‡ä»½
```bash
# å¤‡ä»½æ‰€æœ‰ç­–ç•¥çš„å½“å¤©æ•°æ®
start_incremental_backup.bat once
```

### æŸ¥çœ‹å¤‡ä»½çŠ¶æ€
```bash
start_incremental_backup.bat status
```

### åœæ­¢å¤‡ä»½æœåŠ¡
```bash
start_incremental_backup.bat stop
```

### æŸ¥çœ‹é…ç½®ä¿¡æ¯
```bash
start_incremental_backup.bat config
```

## ğŸ”§ å¸¸è§é—®é¢˜å¿«é€Ÿè§£å†³

### 1. MongoDBå·¥å…·æœªå®‰è£…
**é”™è¯¯ä¿¡æ¯**: `mongodumpå‘½ä»¤ä¸å¯ç”¨`

**è§£å†³æ–¹æ¡ˆ**: 
- ç³»ç»Ÿä¼šè‡ªåŠ¨å°è¯•å®‰è£…ï¼ŒæŒ‰æç¤ºæ“ä½œå³å¯
- æˆ–æ‰‹åŠ¨ä¸‹è½½ï¼šhttps://www.mongodb.com/try/download/database-tools

### 2. æƒé™ä¸è¶³
**é”™è¯¯ä¿¡æ¯**: `EACCES: permission denied`

**è§£å†³æ–¹æ¡ˆ**:
- Windows: å³é”®"ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ"
- Linux: ä½¿ç”¨ `sudo` æˆ–è°ƒæ•´ç›®å½•æƒé™

### 3. ç«¯å£è¿æ¥é—®é¢˜
**é”™è¯¯ä¿¡æ¯**: `connection refused`

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥MongoDBæœåŠ¡æ˜¯å¦å¯åŠ¨
- ç¡®è®¤æ•°æ®åº“åœ°å€å’Œç«¯å£é…ç½®æ­£ç¡®
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### 4. ç£ç›˜ç©ºé—´ä¸è¶³
**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ `D:/incrementalBackups/` ç£ç›˜ç©ºé—´
- ç³»ç»Ÿä¼šè‡ªåŠ¨æ¸…ç†è¿‡æœŸæ–‡ä»¶
- å¯ä¿®æ”¹é…ç½®ä¸­çš„ä¿ç•™æ—¶é—´

## ğŸ“Š ç›‘æ§å¤‡ä»½å¥åº·çŠ¶æ€

ç³»ç»Ÿä¼šè‡ªåŠ¨ç›‘æ§å¤‡ä»½çŠ¶æ€ï¼Œå‡ºç°é—®é¢˜æ—¶ä¼šåœ¨æ—¥å¿—ä¸­è®°å½•ã€‚

æŸ¥çœ‹æ—¥å¿—ï¼š
```bash
# æŸ¥çœ‹ä¸»æ—¥å¿—
type D:\incrementalBackups\logs\incremental_backup.log

# æŸ¥çœ‹å‘Šè­¦æ—¥å¿—  
type D:\incrementalBackups\logs\alerts.log
```

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

âœ… **æ™ºèƒ½åˆ†ç±»**: æ ¹æ®æ•°æ®é‡è¦æ€§è‡ªåŠ¨åˆ†ç±»å¤‡ä»½  
âœ… **å¢é‡å¤‡ä»½**: åªå¤‡ä»½å½“å¤©äº§ç”Ÿçš„æ–°æ•°æ®  
âœ… **è‡ªåŠ¨æ¸…ç†**: è¿‡æœŸå¤‡ä»½è‡ªåŠ¨åˆ é™¤ï¼ŒèŠ‚çœç©ºé—´  
âœ… **å¹¶è¡Œå¤„ç†**: å¤šé›†åˆåŒæ—¶å¤‡ä»½ï¼Œæé«˜æ•ˆç‡  
âœ… **å¥åº·ç›‘æ§**: å®æ—¶ç›‘æ§å¤‡ä»½çŠ¶æ€ï¼Œè‡ªåŠ¨å‘Šè­¦  
âœ… **è·¨å¹³å°**: åŒæ—¶æ”¯æŒWindowså’ŒLinuxç³»ç»Ÿ  

## ğŸ“ æŠ€æœ¯æ”¯æŒ

é‡åˆ°é—®é¢˜ï¼Ÿ
1. é¦–å…ˆè¿è¡Œ `node test_incremental_backup.js` æ£€æŸ¥ç¯å¢ƒ
2. æŸ¥çœ‹è¯¦ç»†æ—¥å¿—æ–‡ä»¶æ’æŸ¥é—®é¢˜
3. å‚è€ƒå®Œæ•´ç‰ˆã€Šå¢é‡å¤‡ä»½ç³»ç»Ÿä½¿ç”¨è¯´æ˜.mdã€‹
4. è”ç³»ç³»ç»Ÿç®¡ç†å‘˜è·å¾—æ”¯æŒ

---

*ğŸ‰ ç°åœ¨ä½ å·²ç»æŒæ¡äº†å¢é‡å¤‡ä»½ç³»ç»Ÿçš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼* 