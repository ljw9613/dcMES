import{B,S as C}from"./SolutionCard-ClaB2_AZ.js";import{g}from"./api-h7D4b6WS.js";import{p as w}from"./productList-ClJs06aX.js";import{_ as D,B as S,r as e,o as z,d as L,k as u,e as _,f as o,l as j,j as q,b as h,c as v}from"./index-C07z9-9q.js";import"./language-D7yRWbpw.js";import"./languageFitler-CndZpwc_.js";/* empty css                                                                     */const A={class:"page"},N={class:"pagecontent"},P={class:"pagination"},V={__name:"solutionDetail",setup(E){const c=S().query.id;console.log("id",c);let d=e([]),f=e(null),p=e(null),i=e(10),r=e(1);const b=async()=>{let t=await g("solution",{query:{}});if(t.code===200)if(d.value=t.data,!c)a.value=t.data[0],l(t.data[0]);else{let n=t.data.find(s=>s._id==c);a.value=n,l(n)}};let a=e({}),m=e([]);const y=async t=>{a.value=t,l(t)},l=async t=>{let n=t.productIds;console.log("ðŸš€ ~ getSolutionItem ~ productIds:",n,r,i);let s=await g("companyProduct",{query:{_id:{$in:n}},limit:i.value,skip:(r.value-1)*i.value,count:!0});m.value=s.data,p.value=s.countnum},x=t=>{r.value=t,l(a.value)},I=t=>{t.value=t,l(a.value)};return z(()=>{b()}),(t,n)=>{const s=h("el-image"),k=h("el-pagination");return v(),L("div",A,[u(s,{src:"https://www.world-machining.com/template/wode/skin/images/about_banner.jpg",fit:"cover",style:{width:"100%",height:"200px","margin-bottom":"4vh"}}),_("div",N,[u(B,{boxList:o(d),onGetSolutionItem:y,ref:"boxesDiv2",onBoxheight:t.boxheight},null,8,["boxList","onBoxheight"]),u(C,{solutionItem:o(a),style:{"margin-top":"2rem"}},null,8,["solutionItem"]),u(w,{ref_key:"pAbout",ref:f,productData:o(m)},null,8,["productData"]),_("div",P,[o(p)?(v(),j(k,{key:0,background:"",class:"pagination",layout:"total, sizes, prev, pager, next, jumper",onSizeChange:I,onCurrentChange:x,"current-page":o(r),"page-size":o(i),"page-sizes":[10,20,50,100],total:o(p)},null,8,["current-page","page-size","total"])):q("",!0)])])])}}},O=D(V,[["__scopeId","data-v-6725696f"]]);export{O as default};
