import{B as k,S as w}from"./SolutionCard-C9DaTqF0.js";import{g}from"./api-DhAyIgQo.js";import{p as B}from"./productList-Bxacj0pv.js";import{_ as D,G as S,r as e,o as z,c as L,d as r,b as _,u as o,s as j,e as q,j as h,a as v}from"./index-BGTzOecy.js";/* empty css                                                                     */const A={class:"page"},N={class:"pagecontent"},P={class:"pagination"},V={__name:"solutionDetail",setup(G){const c=S().query.id;console.log("id",c);let d=e([]),f=e(null),p=e(null),i=e(10),u=e(1);const b=async()=>{let t=await g("solution",{query:{}});if(t.code===200)if(d.value=t.data,!c)a.value=t.data[0],l(t.data[0]);else{let n=t.data.find(s=>s._id==c);a.value=n,l(n)}};let a=e({}),m=e([]);const y=async t=>{a.value=t,l(t)},l=async t=>{let n=t.productIds;console.log("ðŸš€ ~ getSolutionItem ~ productIds:",n,u,i);let s=await g("companyProduct",{query:{_id:{$in:n}},limit:i.value,skip:(u.value-1)*i.value,count:!0});m.value=s.data,p.value=s.countnum},x=t=>{u.value=t,l(a.value)},I=t=>{t.value=t,l(a.value)};return z(()=>{b()}),(t,n)=>{const s=h("el-image"),C=h("el-pagination");return v(),L("div",A,[r(s,{src:"https://www.world-machining.com/template/wode/skin/images/about_banner.jpg",fit:"cover",style:{width:"100%",height:"200px","margin-bottom":"4vh"}}),_("div",N,[r(k,{boxList:o(d),onGetSolutionItem:y,ref:"boxesDiv2",onBoxheight:t.boxheight},null,8,["boxList","onBoxheight"]),r(w,{solutionItem:o(a),style:{"margin-top":"2rem"}},null,8,["solutionItem"]),r(B,{ref_key:"pAbout",ref:f,productData:o(m)},null,8,["productData"]),_("div",P,[o(p)?(v(),j(C,{key:0,background:"",class:"pagination",layout:"total, sizes, prev, pager, next, jumper",onSizeChange:I,onCurrentChange:x,"current-page":o(u),"page-size":o(i),"page-sizes":[10,20,50,100],total:o(p)},null,8,["current-page","page-size","total"])):q("",!0)])])])}}},J=D(V,[["__scopeId","data-v-6725696f"]]);export{J as default};
