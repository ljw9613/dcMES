(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0cbcb06b"],{"23ee":function(t,e,a){"use strict";a("65ef")},6179:function(t,e,a){"use strict";a.r(e);var i=a("c7eb"),n=a("5530"),r=(a("96cf"),a("1da1")),s=a("7e1e"),o=a("32db"),l=a("dacb"),c={filters:{},components:{UploadList:o.a,WangEditor:l.a},data:function(){return{tableList:[],total:0,currentPage:1,pageSize:10,options:{},searchReq:{},patentName:"",listLoading:!0,dialogStatus:"",dialogFormVisible:!1,dataForm:{patentName:{type:String,required:!0},patentNumber:String,applicationDate:Date,publicationDate:Date,patentDescription:String,patentDescription_en:String,image:String,patentName_en:String},textMap:{update:"Edit",create:"Create"}}},created:function(){this.fetchData()},beforeCreate:function(){},methods:{baseTableHandleCurrentChange:function(t){this.currentPage=t,this.fetchData()},baseTableHandleSizeChange:function(t){this.pageSize=t,this.fetchData()},closeProcessRecordDialog:function(){this.tableList=[],this.total=0,this.currentPage=1,this.pageSize=10,this.processRecordShow=!1},getslect:function(t){},fetchData:function(){var t=Object(r.a)(Object(i.a)().mark((function t(){var e,a;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.listLoading=!0,e={query:Object(n.a)({},this.searchReq),limit:this.pageSize,skip:(this.currentPage-1)*this.pageSize,count:!0},t.next=4,Object(s.b)("companyPatents",e);case 4:a=t.sent,this.tableList=a.data,this.total=a.countnum,this.listLoading=!1;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),beforeClose:function(){var t=this;this.$confirm("确认关闭？").then((function(e){t.dialogFormVisible=!1,t.QRDialog=!1,t.approveDialog=!1,done()})).catch((function(t){}))},handleEdit:function(t){this.dialogFormVisible=!0,this.dataForm=JSON.parse(JSON.stringify(t)),this.dialogStatus="edit"},handleDelete:function(t){var e=this;this.$confirm("删除专利",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(Object(r.a)(Object(i.a)().mark((function a(){var n;return Object(i.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n={query:{_id:t._id}},Object(s.c)("companyPatents",n).then(function(){var t=Object(r.a)(Object(i.a)().mark((function t(a){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:200==a.code?(e.fetchData(),e.$notify({title:"删除成功",message:"delete Successfully",type:"success",duration:2e3})):e.$notify({title:"删除失败",message:"delete failly",type:"warning",duration:2e3});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return a.stop()}}),a)}))))},AddFilter:function(){this.dataForm={patentName:"",patentNumber:"",applicationDate:"",publicationDate:"",patentDescription:"",image:"",patentName_en:"",patentDescription_en:""},this.dialogFormVisible=!0,this.dialogStatus="create"},createData:function(){var t=Object(r.a)(Object(i.a)().mark((function t(){var e;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==this.dataForm.patentName||""==this.dataForm.patentNumber||""==this.dataForm.applicationDate||""==this.dataForm.publicationDate||""==this.dataForm.patentDescription||""==this.dataForm.image){t.next=9;break}return e=Object(n.a)({},this.dataForm),t.next=5,Object(s.a)("companyPatents",e);case 5:200==t.sent.code?(this.dialogFormVisible=!1,this.fetchData(),this.$notify({patentName:"添加成功",message:"edit Successfully",type:"success",duration:2e3})):this.$notify({patentName:"添加失败",message:"edit failly",type:"warning",duration:2e3}),t.next=10;break;case 9:this.$notify({patentName:"请完善信息",message:"Again input",type:"warning",duration:2e3});case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),editData:function(){var t=Object(r.a)(Object(i.a)().mark((function t(){var e;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==this.dataForm.patentName||""==this.dataForm.patentNumber||""==this.dataForm.applicationDate||""==this.dataForm.publicationDate||""==this.dataForm.patentDescription||""==this.dataForm.image){t.next=10;break}return e={query:{_id:this.dataForm._id},update:Object(n.a)({},this.dataForm)},t.next=6,Object(s.d)("companyPatents",e);case 6:200==t.sent.code?(this.dialogFormVisible=!1,this.approveDialog=!1,this.fetchData(),this.$notify({patentName:"修改成功",message:"edit Successfully",type:"success",duration:2e3})):this.$notify({patentName:"修改失败",message:"edit failly",type:"warning",duration:2e3}),t.next=11;break;case 10:this.$notify({patentName:"请完善信息",message:"Again input",type:"warning",duration:2e3});case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),clearclick:function(){this.tableList=this.tableList1},Search:function(){this.searchReq={},this.patentName?this.searchReq.patentName={$regex:this.patentName}:delete this.searchReq.patentName,this.fetchData()}}},u=c,p=(a("23ee"),a("2877")),d=Object(p.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"screen"},[a("div",{staticClass:"screen_content"},[t._m(0),t._v(" "),a("div",{staticClass:"screen_content_second"},[a("div",{staticClass:"screen_content_second_one"},[a("div",{staticStyle:{width:"200px"}},[t._v("专利名称:")]),t._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入专利名称"},model:{value:t.patentName,callback:function(e){t.patentName=e},expression:"patentName"}}),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.Search()}}},[t._v("查询搜索\n          ")])],1)])])]),t._v(" "),a("div",{staticClass:"screen1"},[a("div",{staticClass:"screen_content"},[a("div",{staticClass:"screen_content_first"},[a("i",{staticClass:"el-icon-tickets"},[t._v("专利列表")]),t._v(" "),a("el-button",{staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:t.AddFilter}},[t._v("添加专利\n        ")])],1)])]),t._v(" "),a("div",{staticClass:"filter-container"}),t._v(" "),a("base-table",{ref:"baseTable",attrs:{currentPage:t.currentPage,"highlight-current-row":!0,pageSize:t.pageSize,tableData:t.tableList,tableDataloading:t.listLoading,total:t.total},on:{handleCurrentChange:t.baseTableHandleCurrentChange,handleSizeChange:t.baseTableHandleSizeChange}},[a("template",{slot:"law"},[a("el-table-column",{attrs:{label:"专利名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"link-type"},[t._v(t._s(e.row.patentName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"专利编号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.patentNumber))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"申请时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.parseTime(e.row.applicationDate,"{y}-{m}-{d} {h}:{i}"))+" ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"发布时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.parseTime(e.row.publicationDate,"{y}-{m}-{d} {h}:{i}"))+" ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"专利描述",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.patentDescription)+" ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"专利图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.image,alt:"专利图片"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.handleEdit(i)}}},[t._v("编辑查看\n          ")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.handleDelete(i)}}},[t._v("删除\n          ")])]}}])})],1)],2),t._v(" "),a("el-dialog",{attrs:{"before-close":t.beforeClose,visible:t.dialogFormVisible,title:"专利信息"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"500px","margin-left":"50px"},attrs:{inline:!0,"label-position":"left","label-width":"70px"}},[a("el-form-item",{attrs:{required:"",label:"专利名称","label-width":"120"}},[a("el-input",{attrs:{placeholder:"专利名称"},model:{value:t.dataForm.patentName,callback:function(e){t.$set(t.dataForm,"patentName",e)},expression:"dataForm.patentName"}})],1),t._v(" "),a("el-form-item",{attrs:{required:"",label:"专利编号","label-width":"120"}},[a("el-input",{attrs:{placeholder:"专利编号"},model:{value:t.dataForm.patentNumber,callback:function(e){t.$set(t.dataForm,"patentNumber",e)},expression:"dataForm.patentNumber"}})],1),t._v(" "),a("el-form-item",{attrs:{required:"",label:"申请时间","label-width":"120"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.dataForm.applicationDate,callback:function(e){t.$set(t.dataForm,"applicationDate",e)},expression:"dataForm.applicationDate"}})],1),t._v(" "),a("el-form-item",{attrs:{required:"",label:"发布时间","label-width":"120"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.dataForm.publicationDate,callback:function(e){t.$set(t.dataForm,"publicationDate",e)},expression:"dataForm.publicationDate"}})],1),t._v(" "),a("el-form-item",{attrs:{required:"",label:"专利描述","label-width":"120"}},[a("el-input",{attrs:{type:"textarea",placeholder:"专利描述"},model:{value:t.dataForm.patentDescription,callback:function(e){t.$set(t.dataForm,"patentDescription",e)},expression:"dataForm.patentDescription"}})],1),t._v(" "),a("el-form-item",{attrs:{required:"",label:"添加专利图片链接","label-width":"120"}},[a("ZrFile",{attrs:{max:1,value:t.dataForm.image},on:{"update:value":function(e){return t.$set(t.dataForm,"image",e)}}})],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v("英文")]),t._v(" "),a("el-form-item",{attrs:{label:"专利名称(title)","label-width":"120"}},[a("el-input",{attrs:{placeholder:"专利名称(title)"},model:{value:t.dataForm.patentName_en,callback:function(e){t.$set(t.dataForm,"patentName_en",e)},expression:"dataForm.patentName_en"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"专利描述(description)","label-width":"120"}},[a("el-input",{attrs:{type:"textarea",placeholder:"专利描述(description)"},model:{value:t.dataForm.patentDescription_en,callback:function(e){t.$set(t.dataForm,"patentDescription_en",e)},expression:"dataForm.patentDescription_en"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"==t.dialogStatus?t.createData():t.editData()}}},[t._v("确定\n      ")])],1)],1)],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen_content_first"},[a("i",{staticClass:"el-icon-search"},[t._v("筛选搜索")]),t._v(" "),a("div",{staticClass:"screen_content_first_btutton"})])}],!1,null,"19368aa3",null);e.default=d.exports},"65ef":function(t,e,a){}}]);