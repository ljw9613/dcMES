/**
 * 工序解绑脚本 - 使用示例
 * 
 * 这是一个示例配置文件，展示如何配置和使用工序解绑脚本
 * 实际使用时请根据需要修改 unbind_second_process.js 中的配置
 */

// ============================================
// 示例 1: 解绑第二道工序（预览模式）
// ============================================
const example1 = {
  CONFIG: {
    workOrderNo: "P202508231755932375363",
    targetProcessSort: 2,
    unbindReason: "第二道工序数据错误，需要重新执行",
    userId: "SYSTEM",
    dryRun: true,  // 预览模式，不实际执行
  },
  description: "先在预览模式下查看将要解绑的条码"
};

// ============================================
// 示例 2: 解绑第二道工序（真实执行）
// ============================================
const example2 = {
  CONFIG: {
    workOrderNo: "P202508231755932375363",
    targetProcessSort: 2,
    unbindReason: "第二道工序数据错误，需要重新执行",
    userId: "67d792c54f31c06c540915cf",  // 实际用户ID
    dryRun: false,  // 真实执行模式
  },
  description: "确认预览结果无误后，设置 dryRun: false 真实执行"
};

// ============================================
// 示例 3: 解绑第三道工序
// ============================================
const example3 = {
  CONFIG: {
    workOrderNo: "P202508231755932375363",
    targetProcessSort: 3,
    unbindReason: "打印标签错误，需要重新打印",
    userId: "SYSTEM",
    dryRun: true,
  },
  description: "解绑第三道工序"
};

// ============================================
// 示例 4: 解绑第一道工序
// ============================================
const example4 = {
  CONFIG: {
    workOrderNo: "P202508231755932375363",
    targetProcessSort: 1,
    unbindReason: "SN码扫描错误，需要重新扫描",
    userId: "SYSTEM",
    dryRun: true,
  },
  description: "解绑第一道工序（谨慎操作，会清除所有工序数据）"
};

// ============================================
// 使用步骤说明
// ============================================
console.log(`
╔════════════════════════════════════════════════════════════════╗
║               工序解绑脚本 - 使用示例                          ║
╚════════════════════════════════════════════════════════════════╝

📌 使用步骤：

第一步：选择合适的示例配置
  根据实际需求，选择上面的示例配置之一

第二步：修改 unbind_second_process.js 中的配置
  将选择的示例配置复制到 unbind_second_process.js 的 CONFIG 对象中

第三步：预览模式运行（推荐）
  $ node unbind_second_process.js
  
  查看预览结果，确认要解绑的条码是否正确

第四步：真实执行
  确认无误后，将 dryRun 改为 false，再次运行
  $ node unbind_second_process.js

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 示例配置：

示例 1 - ${example1.description}
${JSON.stringify(example1.CONFIG, null, 2)}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

示例 2 - ${example2.description}
${JSON.stringify(example2.CONFIG, null, 2)}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

示例 3 - ${example3.description}
${JSON.stringify(example3.CONFIG, null, 2)}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

示例 4 - ${example4.description}
${JSON.stringify(example4.CONFIG, null, 2)}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⚠️  注意事项：

1. 务必先在预览模式（dryRun: true）下运行
2. 确认预览结果无误后再真实执行（dryRun: false）
3. 建议在业务低峰期执行
4. 执行前建议备份数据库
5. 如果条码有后续工序已完成，会自动跳过该条码

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📚 更多详细信息请查看：README_工序解绑脚本.md

╚════════════════════════════════════════════════════════════════╝
`);

