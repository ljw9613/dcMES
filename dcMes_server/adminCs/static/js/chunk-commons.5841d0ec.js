(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-commons"],{"0017":function(e,t,i){"use strict";i("1ecb")},"184d":function(e,t,i){"use strict";i("4b86")},"1ecb":function(e,t,i){},"3b8b":function(e,t,i){"use strict";var n=i("c7eb"),s=(i("ac6a"),i("5df3"),i("4f7f"),i("96cf"),i("1da1")),r=i("2909"),a=i("77d2"),c=i("7e1e"),o=(i("9339"),{name:"WorkDialog",props:{materialId:{type:String,default:""},lineId:{type:String,default:""},visible:{type:Boolean,default:!1},workTableData:{type:Array,default:function(){return[]}}},data:function(){return{filterCurrentLine:!0,filterHasMachine:!0,workColumns:[{prop:"processName",label:"工序名称"},{prop:"processCode",label:"工序编号"},{prop:"sort",label:"工序顺序"}]}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}},filteredTableData:function(){var e=this,t=Object(r.a)(this.workTableData);return this.filterCurrentLine&&this.lineId&&(t=t.filter((function(t){return(t.machineId&&t.machineId.lineId)===e.lineId}))),this.filterHasMachine&&(t=t.filter((function(e){return e.machineId}))),t}},watch:{visible:function(e){}},methods:{handleClose:function(){this.dialogVisible=!1},refreshMachineStatus:function(){var e=this;if(this.filteredTableData.length){var t=this.filteredTableData.map((function(e){return e.machineId&&e.machineId._id}));t.length?Object(a.b)({machineIds:t}).then((function(t){console.log(t),e.$message.success("设备在线状态刷新成功")})):this.$message.warning("当前无可刷新设备")}else this.$message.warning("请先选择工序")},confirmWork:function(){var e=Object(s.a)(Object(n.a)().mark((function e(){var t,i,s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.filteredTableData.map((function(e){return e.machineId&&e.machineId._id})),t.length===new Set(t).size){e.next=5;break}return this.$message.error("工序有重复设备，请重新编辑工艺"),e.abrupt("return");case 5:i=0;case 6:if(!(i<this.filteredTableData.length)){e.next=15;break}if(s=this.filteredTableData[i],console.log(s),!s.machineId||!s.machineId._id){e.next=12;break}return e.next=12,Object(c.d)("machine",{query:{_id:s.machineId._id},update:{processStepId:s._id,materialId:this.materialId}});case 12:i++,e.next=6;break;case 15:this.$message.success("生产设备对应当前生产工序已替换"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),this.$message.error("启动生产任务失败");case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(){return e.apply(this,arguments)}}()}}),l=o,h=(i("7e63d"),i("2877")),u=Object(h.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"生产工序设备确认","append-to-body":"",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.handleClose}},[i("div",{staticClass:"filter-container"},[i("el-checkbox",{model:{value:e.filterHasMachine,callback:function(t){e.filterHasMachine=t},expression:"filterHasMachine"}},[e._v("已绑定设备")]),e._v(" "),i("el-checkbox",{model:{value:e.filterCurrentLine,callback:function(t){e.filterCurrentLine=t},expression:"filterCurrentLine"}},[e._v("当前产线设备")])],1),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.filteredTableData}},[e._l(e.workColumns,(function(t){return i("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label},scopedSlots:e._u([{key:"default",fn:function(n){return[i("span",[e._v("\n                    "+e._s(n.row[t.prop])+"\n                ")])]}}],null,!0)})})),e._v(" "),i("el-table-column",{attrs:{prop:"machineId",label:"设备信息",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{class:{"error-row":!t.row.machineId}},[t.row.machineId?[e._v("\n                        "+e._s(t.row.machineId.machineName)+"\n                        "),i("el-tag",[e._v(" ("+e._s(t.row.machineId.machineIp)+", "+e._s(t.row.machineId.machineCode)+")")])]:[e._v("\n                        未绑定设备\n                    ")]],2)]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"machineId.status",label:"在线状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{class:{"error-row":!t.row.machineId}},[t.row.machineId?[i("el-tag",{attrs:{type:t.row.machineId.status?"success":"danger"}},[e._v("\n                            "+e._s(t.row.machineId.status?"在线":"离线")+"\n                        ")])]:[e._v("\n                        未绑定设备\n                    ")]],2)]}}])})],2),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.confirmWork}},[e._v("一键替换")]),e._v(" "),i("el-button",{attrs:{type:"warning"},on:{click:e.refreshMachineStatus}},[e._v("设备在线刷新")])],1)],1)}),[],!1,null,"00cc279d",null);t.a=u.exports},"49e2":function(e,t,i){"use strict";i("ff8b")},"4b86":function(e,t,i){},"50fb":function(e,t,i){"use strict";i("a3e6")},"5aee":function(e,t,i){"use strict";var n=i("7624"),s={name:"IconSelects",props:["IconData"],data:function(){return{userChooseIcon:"",chooseIcons:"请选择图标",iconList:[]}},watch:{IconData:function(e){e&&(console.log(e),this.userChooseIcon=e,this.chooseIcons=e)}},created:function(){this.iconList=n.a},methods:{editClicks:function(){this.userChooseIcon=this.IconData,this.chooseIcons=this.IconData},setIcon:function(e){console.log(e),this.userChooseIcon=e,this.chooseIcons=e,this.$emit("update:IconData",e)}}},r=s,a=(i("49e2"),i("2877")),c=Object(a.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"chooseIcons"},[i("el-popover",{attrs:{placement:"top-start","append-to-body":!1,width:"30vw",trigger:"click"}},[i("div",{staticClass:"iconDiv",attrs:{slot:"reference"},slot:"reference"},[i("div",{staticClass:"iconName"},[i("i",{class:e.userChooseIcon}),e._v("\n         "+e._s(e.chooseIcons))])]),e._v(" "),i("div",{staticClass:"iconList"},e._l(e.iconList,(function(t){return i("i",{key:t,class:[t,"icon"],staticStyle:{"font-size":"20px"},on:{click:function(i){return e.setIcon(t)}}})})),0)])],1)}),[],!1,null,"3b31ed31",null);t.a=c.exports},"7da5":function(e,t){},"7e63d":function(e,t,i){"use strict";i("f01c")},a3e6:function(e,t,i){},aad8:function(e,t,i){"use strict";var n=i("53ca"),s=i("292f"),r={name:"HirInput",props:{visible:{type:Boolean,default:!1},printData:{type:Object,default:function(){return{}}},showPreview:{type:Boolean,default:!0},showBrowserPrint:{type:Boolean,default:!0},showSilentPrint:{type:Boolean,default:!0},defaultTemplate:{type:Object,default:null}},data:function(){return{dialogVisible:!1,hiprintTemplate:null,selectedTemplate:null,templateData:null,isTemplateInitialized:!1}},watch:{defaultTemplate:{immediate:!0,handler:function(e){e&&"object"===Object(n.a)(e)&&(this.selectedTemplate=e._id,this.handleTemplateChange(e))}}},created:function(){s.hiprint.hiwebSocket.setHost("ws://127.0.0.1:17521"),s.hiprint.hiwebSocket.opened,s.hiprint.refreshPrinterList((function(e){console.log("打印机列表",e)}))},methods:{handleClose:function(){this.dialogVisible=!1},initTemplate:function(e){s.hiprint.init({providers:[new s.defaultElementTypeProvider]}),$(".hiprintEpContainer2").empty(),s.hiprint.PrintElementTypeManager.build(".hiprintEpContainer2","defaultModule"),$("#hiprint-printTemplate").empty(),this.hiprintTemplate=new s.hiprint.PrintTemplate({template:e,settingContainer:"#PrintElementOptionSetting",paginationContainer:".hiprint-printPagination"})},handlePreview:function(){var e=this;this.dialogVisible=!0,this.$nextTick((function(){e.hiprintTemplate.design("#hiprint-printTemplate")}))},handleTemplateChange:function(e){if(e&&e.content)try{var t=JSON.parse(e.content);this.templateData=e,this.initTemplate(t),this.isTemplateInitialized=!0,this.selectedTemplate=e._id,this.$emit("template-change",e)}catch(e){console.error("模板初始化失败:",e),this.$message.error("模板初始化失败"),this.isTemplateInitialized=!1}else this.isTemplateInitialized=!1},handlePrints:function(){if(this.isTemplateInitialized&&this.hiprintTemplate)try{s.hiprint.print({templates:[{template:this.hiprintTemplate,data:this.printData}]})}catch(e){console.error("打印失败:",e),this.$message.error("打印失败")}else this.$message.warning("请先选择打印模板")},handlePrints2:function(){if(this.isTemplateInitialized&&this.hiprintTemplate)try{s.hiprint.print2({templates:[{template:this.hiprintTemplate,data:this.printData}]})}catch(e){console.error("静默打印失败:",e),this.$message.error("静默打印失败")}else this.$message.warning("请先选择打印模板")}}},a=r,c=(i("0017"),i("2877")),o=Object(c.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("zr-select",{attrs:{collection:"printTemplate","search-fields":["templateName"],"label-key":"templateName","sub-key":"FCustId",multiple:!1,placeholder:"请选择打印模板"},on:{select:e.handleTemplateChange},scopedSlots:e._u([{key:"option",fn:function(t){var n=t.item;return[i("div",{staticClass:"item-option"},[i("div",{staticClass:"item-info"},[i("span",{staticClass:"name"},[e._v(e._s(n.templateName))]),e._v(" "),i("el-tag",{attrs:{size:"mini",type:"info"}},[e._v(e._s(n.templateCode))])],1),e._v(" "),i("div",{staticClass:"sub-info"},[i("small",[e._v(e._s(n.businessType))])])])]}}]),model:{value:e.selectedTemplate,callback:function(t){e.selectedTemplate=t},expression:"selectedTemplate"}}),e._v(" "),e.showPreview?i("el-button",{attrs:{type:"primary"},on:{click:e.handlePreview}},[e._v("模板预览")]):e._e(),e._v(" "),e.showBrowserPrint?i("el-button",{attrs:{type:"primary"},on:{click:e.handlePrints}},[e._v("浏览器打印")]):e._e(),e._v(" "),e.showSilentPrint?i("el-button",{attrs:{type:"primary"},on:{click:e.handlePrints2}},[e._v("静默打印")]):e._e(),e._v(" "),i("el-dialog",{attrs:{title:"打印预览",visible:e.dialogVisible,width:"240mm","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",[i("div",[i("div",{attrs:{id:"hiprint-printTemplate"}})]),e._v(" "),i("div",{staticClass:"dialog-footer"},[i("el-button",{on:{click:e.handleClose}},[e._v("取 消")])],1)])])],1)}),[],!1,null,"7797b5df",null);t.a=o.exports},ef4e:function(e,t,i){"use strict";var n=(i("c5f6"),i("6762"),i("2fdb"),{name:"StatusPopup",props:{visible:{type:Boolean,default:!1},type:{type:String,default:"ok",validator:function(e){return["ok","ng"].includes(e)}},text:{type:String,default:""},subText:{type:String,default:""},duration:{type:Number,default:2e3}},computed:{iconClass:function(){return"ok"===this.type?"el-icon-check":"el-icon-close"}},watch:{visible:function(e){e&&this.duration>0&&this.startTimer()}},methods:{startTimer:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){e.handleClose()}),this.duration)},handleClose:function(){this.$emit("update:visible",!1)}},beforeDestroy:function(){this.timer&&clearTimeout(this.timer)}}),s=n,r=(i("184d"),i("2877")),a=Object(r.a)(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"fade"}},[e.visible?i("div",{staticClass:"status-popup-overlay",on:{click:e.handleClose}},[i("div",{staticClass:"status-popup",class:e.type},[i("div",{staticClass:"bg-animation"}),e._v(" "),i("div",{staticClass:"bg-grid"}),e._v(" "),i("div",{staticClass:"status-icon"},[i("i",{class:e.iconClass})]),e._v(" "),i("div",{staticClass:"status-text"},[e._v("\n        "+e._s(e.text)+"\n      ")]),e._v(" "),e.subText?i("div",{staticClass:"sub-text"},[e._v("\n        "+e._s(e.subText)+"\n      ")]):e._e()])]):e._e()])}),[],!1,null,"b9b6a6f2",null);t.a=a.exports},f01c:function(e,t,i){},f341:function(e,t,i){"use strict";var n=i("c7eb"),s=(i("96cf"),i("1da1")),r=(i("7da5"),{name:"TscPrinter",props:{materialCode:{type:String,default:""},barcode:{type:String,default:""},visible:{type:Boolean,default:!1}},data:function(){return{usbChecked:!0,networkChecked:!1,driverChecked:!1,usbPrinters:[],selectedUsbPrinter:"",printerIP:"",printerPort:"9100",driverPrinters:[],selectedDriver:"",printing:!1,websocket:null,wsUrl:"ws://127.0.0.1:8888",dialogVisible:!1,checkingStatus:!1,wsConnected:!1}},watch:{visible:{handler:function(e){this.dialogVisible=e},immediate:!0}},mounted:function(){var e=Object(s.a)(Object(n.a)().mark((function e(){var t=this;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.initWebSocket();case 3:setTimeout((function(){t.getUsbPrinterList(),t.getDriverList()}),1e3),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("打印服务连接失败:",e.t0),this.$message.error("打印服务连接失败，请确保TSC打印服务已启动");case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),methods:{initWebSocket:function(){var e=Object(s.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.websocket=new WebSocket("ws://127.0.0.1:8888"),this.websocket.onopen=this.handleWsOpen,this.websocket.onclose=this.handleWsClose,this.websocket.onmessage=this.handleWsMessage,this.websocket.onerror=this.handleWsError}catch(e){console.error("WebSocket连接失败:",e),this.$message.error("打印服务连接失败，请确保TSC打印服务已启动")}case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),handleWsOpen:function(){this.wsConnected=!0,this.reconnectAttempts=0,console.log("WebSocket连接成功"),this.$message.success("打印服务连接成功")},handleWsClose:function(e){this.wsConnected=!1;var t=this.getCloseReason(e.code);console.error("WebSocket连接关闭: ".concat(t)),this.$message.error("打印服务连接断开: ".concat(t))},getCloseReason:function(e){return{1001:"服务器关闭或浏览器离开页面",1002:"协议错误",1003:"接收到不支持的数据类型",1004:"保留状态码",1005:"没有收到状态码",1006:"连接异常关闭",1007:"接收到非UTF-8数据",1008:"违反策略",1009:"接收到过大的消息",1010:"客户端需要的扩展未协商",1011:"服务器遇到意外情况",1015:"TLS握手失败"}[e]||"未知原因"},handleWsMessage:function(e){console.log("收到服务器消息:",e.data);try{if("Finished"===e.data)return void this.$message.success("成功收到打印服务消息");var t=JSON.parse(e.data);t.usb_list&&(0===t.usb_list.length&&this.$message.warning("未找到USB打印机"),this.usbPrinters=t.usb_list,this.usbPrinters.length>0&&(this.selectedUsbPrinter=this.usbPrinters[0].USBPath)),t.driver_list&&(0===t.driver_list.length&&this.$message.warning("未找到驱动打印机"),this.driverPrinters=t.driver_list,this.driverPrinters.length),t.Function_Failed&&this.$message.error("操作失败: ".concat(t.Function_Failed)),t.printerstatus&&t.printerstatus.length>0&&this.$message.info("打印机状态:\n".concat(t.printerstatus.join("\n"))),t.printername&&this.$message.info("打印机名称: ".concat(t.printername)),t.printerserial&&this.$message.info("打印机序列号: ".concat(t.printerserial))}catch(e){console.error("消息解析错误:",e),this.$message.error("接收到无效数据")}},handleWsError:function(e){this.wsConnected=!1,console.error("WebSocket错误:",e),this.$message.error("打印服务连接错误，请确保TSC打印服务已启动")},sendWsMessage:function(){var e=Object(s.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("sendWsMessage",t),this.wsConnected){e.next=3;break}throw new Error("打印服务未连接，请检查打印服务是否启动");case 3:if(this.websocket.readyState!==WebSocket.OPEN){e.next=7;break}this.websocket.send(JSON.stringify(t)),e.next=8;break;case 7:throw new Error("WebSocket连接未就绪");case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),handleUsbCheck:function(e){e&&(this.networkChecked=!1,this.driverChecked=!1)},handleNetworkCheck:function(e){e&&(this.usbChecked=!1,this.driverChecked=!1)},handleDriverCheck:function(e){e&&(this.usbChecked=!1,this.networkChecked=!1)},getUsbPrinterList:function(){this.sendWsMessage({usb_list:[]})},getDriverList:function(){this.sendWsMessage({driver_list:[]})},checkInterface:function(){if(this.usbChecked)return!(this.usbPrinters.length<=0||!this.selectedUsbPrinter)||(this.$message.error("请选择USB打印机"),!1);if(this.networkChecked){return/^(\d{1,3}\.){3}\d{1,3}$/.test(this.printerIP)?!!/^[1-9]\d*$/.test(this.printerPort)||(this.$message.error("无效的端口号"),!1):(this.$message.error("无效的IP地址"),!1)}return this.driverChecked?!(this.driverPrinters.length<=0||!this.selectedDriver)||(this.$message.error("请选择打印机驱动"),!1):(this.$message.error("请选择打印机连接方式"),!1)},printTemplate:function(){var e=Object(s.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkInterface()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.printing=!0,t={functions_inorder:[{init:""},this.usbChecked?{openport_usb:this.selectedUsbPrinter}:this.networkChecked?{openport_net:"".concat(this.printerIP,",").concat(this.printerPort)}:{openport_driver:this.selectedDriver},{clearbuffer:""},{setup:"60,28,4,8,0,3,0"},{windowsfont:"40,40,".concat(28,",0,0,0,Arial,物料：").concat(this.materialCode)},{windowsfont:"40,120,".concat(28,",0,0,0,Arial,条码如下：")},{windowsfont:"40,200,".concat(28,",0,0,0,Arial,").concat(this.barcode)},{sendcommand_crlf:'QRCODE 440,24,H,8,A,0,M2,S5,"'.concat(this.barcode,'"')},{printlabel:"1,1"},{closeport:""}]},e.next=9,this.sendWsMessage(t);case 9:this.$emit("print-success"),this.$message.success("打印成功"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("打印失败:",e.t0),this.$emit("print-error",e.t0.message||"打印失败"),this.$message.error("打印失败: ".concat(e.t0.message||"未知错误"));case 18:return e.prev=18,this.printing=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[2,13,18,21]])})));return function(){return e.apply(this,arguments)}}(),printTestPage:function(){var e=Object(s.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkInterface()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t={functions_inorder:[{function:"init"},this.usbChecked?{function:"openport_usb",args:[this.selectedUsbPrinter]}:this.networkChecked?{function:"openport_net",args:[this.printerIP,this.printerPort]}:{function:"openport_driver",args:[this.selectedDriver]},{function:"sendcommand",args:["SELFTEST"]},{function:"closeport"}]},e.next=6,this.sendWsMessage(t);case 6:this.$message.success("测试页打印成功"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.$message.error("测试页打印失败: ".concat(e.t0.message||"未知错误"));case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),checkPrinterStatus:function(){var e=Object(s.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkInterface()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.checkingStatus=!0,t={functions_inorder:[{function:"init"},this.usbChecked?{function:"openport_usb",args:[this.selectedUsbPrinter]}:this.networkChecked?{function:"openport_net",args:[this.printerIP,this.printerPort]}:{function:"openport_driver",args:[this.selectedDriver]},{function:"printerstatus"},{function:"printername"},{function:"printerserial"},{function:"closeport"}]},e.next=7,this.sendWsMessage(t);case 7:this.$message.success("打印机连接正常"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("检查打印机状态失败:",e.t0),this.$message.error("检查打印机状态失败: ".concat(e.t0.message||"未知错误"));case 14:return e.prev=14,this.checkingStatus=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}(),handleClose:function(){this.dialogVisible=!1},confirmPrint:function(){var e=this;this.printTemplate().then((function(){e.handleClose()}))},print:function(){return this.printTemplate()}}}),a=r,c=(i("50fb"),i("2877")),o=Object(c.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"打印设置",visible:e.dialogVisible,width:"600px","before-close":e.handleClose,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"tsc-printer"},[i("div",{staticClass:"param-display interface-block"},[i("div",{staticClass:"card-header"},[i("i",{staticClass:"el-icon-document"}),e._v(" "),i("span",[e._v("打印参数")])]),e._v(" "),i("div",{staticClass:"param-table"},[i("table",[i("tr",[i("th",[e._v("物料编码")]),e._v(" "),i("td",[e._v(e._s(e.materialCode))]),e._v(" "),i("th",[e._v("条码内容")]),e._v(" "),i("td",[e._v(e._s(e.barcode))])])])])]),e._v(" "),i("div",{staticClass:"interface-block"},[i("div",{staticClass:"card-header"},[i("i",{staticClass:"el-icon-printer"}),e._v(" "),i("span",[e._v("打印机连接")])]),e._v(" "),i("div",{staticClass:"connection-type"},[i("el-checkbox",{on:{change:e.handleUsbCheck},model:{value:e.usbChecked,callback:function(t){e.usbChecked=t},expression:"usbChecked"}},[e._v("USB连接")]),e._v(" "),i("i",{staticClass:"el-icon-usb"})],1),e._v(" "),e.usbChecked?i("div",{staticClass:"printer-select"},[i("span",[e._v("打印机名称：")]),e._v(" "),i("el-select",{model:{value:e.selectedUsbPrinter,callback:function(t){e.selectedUsbPrinter=t},expression:"selectedUsbPrinter"}},e._l(e.usbPrinters,(function(e){return i("el-option",{key:e.USBPath,attrs:{label:e.USBName,value:e.USBPath}})})),1)],1):e._e()]),e._v(" "),i("div",{staticClass:"interface-block"},[i("div",{staticClass:"connection-type"},[i("el-checkbox",{on:{change:e.handleNetworkCheck},model:{value:e.networkChecked,callback:function(t){e.networkChecked=t},expression:"networkChecked"}},[e._v("网络连接")]),e._v(" "),i("i",{staticClass:"el-icon-connection"})],1),e._v(" "),e.networkChecked?[i("div",{staticClass:"network-input"},[i("span",[e._v("打印机IP地址：")]),e._v(" "),i("el-input",{attrs:{placeholder:"请输入IP地址"},model:{value:e.printerIP,callback:function(t){e.printerIP=t},expression:"printerIP"}})],1),e._v(" "),i("div",{staticClass:"network-input"},[i("span",[e._v("端口号：")]),e._v(" "),i("el-input",{attrs:{placeholder:"9100"},model:{value:e.printerPort,callback:function(t){e.printerPort=t},expression:"printerPort"}})],1)]:e._e()],2),e._v(" "),i("div",{staticClass:"interface-block"},[i("div",{staticClass:"connection-type"},[i("el-checkbox",{on:{change:e.handleDriverCheck},model:{value:e.driverChecked,callback:function(t){e.driverChecked=t},expression:"driverChecked"}},[e._v("驱动连接")])],1),e._v(" "),e.driverChecked?i("div",{staticClass:"printer-select"},[i("span",[e._v("驱动名称：")]),e._v(" "),i("el-select",{model:{value:e.selectedDriver,callback:function(t){e.selectedDriver=t},expression:"selectedDriver"}},e._l(e.driverPrinters,(function(e){return i("el-option",{key:e.DriverName,attrs:{label:e.DriverName,value:e.DriverName}})})),1)],1):e._e()]),e._v(" "),i("div",{staticClass:"print-controls"},[i("el-button",{attrs:{type:"primary",loading:e.printing},on:{click:e.confirmPrint}},[e._v("\n                "+e._s(e.printing?"打印中...":"确认打印")+"\n            ")]),e._v(" "),i("el-button",{attrs:{type:"info",loading:e.checkingStatus},on:{click:e.checkPrinterStatus}},[e._v("\n                "+e._s(e.checkingStatus?"检查中...":"检查打印机")+"\n            ")]),e._v(" "),i("el-button",{on:{click:e.handleClose}},[e._v("取消")])],1)])])}),[],!1,null,"41f76250",null);t.a=o.exports},ff8b:function(e,t,i){}}]);