(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-802040da"],{2:function(t,e){},"23e2":function(t,e,a){"use strict";a("fae1")},3:function(t,e){},4:function(t,e){},"90b6":function(t,e,a){"use strict";a.r(e);var s=(a("f576"),a("28a5"),a("2909")),l=(a("5df3"),a("34ef"),a("6762"),a("2fdb"),a("7514"),a("ade3")),r=(a("a481"),a("6b54"),a("5530")),o=a("c7eb"),n=(a("96cf"),a("1da1")),i=(a("ac6a"),a("456d"),a("7f7f"),a("c5f6"),a("7e1e")),c=a("c8d1"),m=a("1146"),u=a.n(m),h=a("7015"),d=a("b728"),p={name:"ExpertDatabase",props:{isSelectMode:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},selectedIds:{type:Array,default:function(){return[]}},maxSelect:{type:Number,default:999},checkSelectable:{type:Function,default:null}},dicts:["delivery_method","expert_platform","category","level","brand"],components:{EditDialog:c.default,ZrAddressSelect:d.a},data:function(){return{searchForm:{name:"",mainNickname:"",mainPlatform:"",mainCategory:"",minFollowers:null,maxFollowers:null,area:[],platformName:"",platformId:"",platformNickname:"",platformUrl:"",whatsappAccount:"",agency:"",productPriceMin:null,productPriceMax:null,gpmMin:null,gpmMax:null,sellingMethod:[],followerWomanMin:null,followerWomanMax:null,monthlySalesMin:null,monthlySalesMax:null,monthlySalesAmountMin:null,monthlySalesAmountMax:null,cooperationBrands:[]},showAdvanced:!1,platformOptions:[{value:"æŠ–éŸ³",label:"æŠ–éŸ³"},{value:"å°çº¢ä¹¦",label:"å°çº¢ä¹¦"},{value:"å¾®åš",label:"å¾®åš"},{value:"Bç«™",label:"Bç«™"}],tableList:[],total:0,currentPage:1,pageSize:10,listLoading:!0,dialogFormVisible:!1,dialogStatus:"",dataForm:{avatar:"",name:"",phone:"",bio:"",mainPlatform:"",mainNickname:"",mainFollowers:0,mainCategory:"",contactInfo:"",agency:"",averageViews:0,monthlySales:0,monthlySalesAmount:0,followerAgeRange:"",followerMan:0,followerWoman:0,followerInterests:[],followerLocation:[],hotCategoryRatio:[],platforms:[],top3Products:[],sellingMethod:"",productPrice:0,gpm:0,cooperationHistory:[],collaborationCount:0,level:""},detailForm:{cooperationHistory:[]},importDialogVisible:!1,fileList:[],importing:!1,templateHeaders:["å¹³å°åç§°*","å¹³å°ID*","å¹³å°æ˜µç§°*","å¹³å°é“¾æ¥","ç²‰ä¸æ•°é‡","åˆ†ç±»","å¹³å‡äº’åŠ¨ç‡","å¹³å‡æ’­æ”¾é‡","è§†é¢‘å¹³å‡æ—¶é•¿","åœ°åŒº","å›½å®¶","çœä»½","åŸå¸‚","è”ç³»æ–¹å¼","ç­¾çº¦æœºæ„","WhatsAppè´¦å·","ç”µè¯","ç²‰ä¸å¹´é¾„èŒƒå›´","ç”·æ€§ç²‰ä¸æ¯”ä¾‹","å¥³æ€§ç²‰ä¸æ¯”ä¾‹","çƒ­é”€å“ç±»æ¯”","Top3äº§å“","å¸¦è´§æ–¹å¼","æœ€ä½å®¢å•ä»·","æœ€é«˜å®¢å•ä»·","GPM"],selection:[],detailDialogVisible:!1}},created:function(){this.fetchData()},methods:Object(l.a)(Object(l.a)({searchData:function(){console.log("ğŸš€ ~ searchData ~ this.searchForm.area:",this.searchForm.area);var t={query:{$and:[]},populate:JSON.stringify([{path:"createBy",select:"nickName"}])};if(this.searchForm.name&&t.query.$and.push({name:{$regex:this.searchForm.name,$options:"i"}}),this.searchForm.platformName&&t.query.$and.push({platformName:{$regex:this.searchForm.platformName,$options:"i"}}),this.searchForm.platformId&&t.query.$and.push({platformId:{$regex:this.searchForm.platformId,$options:"i"}}),this.searchForm.platformNickname&&t.query.$and.push({nickname:{$regex:this.searchForm.platformNickname,$options:"i"}}),this.searchForm.mainCategory&&t.query.$and.push({category:{$regex:this.searchForm.mainCategory,$options:"i"}}),this.searchForm.area&&this.searchForm.area.length>0&&t.query.$and.push({$or:this.searchForm.area.map((function(t){return{area:{$all:t}}}))}),!(null===this.searchForm.minFollowers&&null===this.searchForm.maxFollowers||0===this.searchForm.minFollowers&&0===this.searchForm.maxFollowers)){var e={};null!==this.searchForm.minFollowers&&(e.$gte=this.searchForm.minFollowers),null!==this.searchForm.maxFollowers&&(e.$lte=this.searchForm.maxFollowers),Object.keys(e).length>0&&t.query.$and.push({followers:e})}if(this.searchForm.category&&this.searchForm.category.length>0&&t.query.$and.push({category:{$all:this.searchForm.category}}),this.searchForm.level&&t.query.$and.push({level:{$regex:this.searchForm.level,$options:"i"}}),this.searchForm.platformUrl&&t.query.$and.push({platformUrl:{$regex:this.searchForm.platformUrl,$options:"i"}}),this.searchForm.whatsappAccount&&t.query.$and.push({whatsappAccount:{$regex:this.searchForm.whatsappAccount,$options:"i"}}),this.searchForm.agency&&t.query.$and.push({agency:{$regex:this.searchForm.agency,$options:"i"}}),this.searchForm.level&&t.query.$and.push({level:{$regex:this.searchForm.level,$options:"i"}}),this.searchForm.productPriceMin||this.searchForm.productPriceMax){var a={};this.searchForm.productPriceMin&&(a.$gte=this.searchForm.productPriceMin),this.searchForm.productPriceMax&&(a.$lte=this.searchForm.productPriceMax),Object.keys(a).length>0&&t.query.$and.push({productPrice:a})}if(this.searchForm.gpmMin||this.searchForm.gpmMax){var s={};this.searchForm.gpmMin&&(s.$gte=this.searchForm.gpmMin),this.searchForm.gpmMax&&(s.$lte=this.searchForm.gpmMax),Object.keys(s).length>0&&t.query.$and.push({gpm:s})}if(this.searchForm.sellingMethod&&this.searchForm.sellingMethod.length>0&&t.query.$and.push({sellingMethod:{$all:this.searchForm.sellingMethod}}),null!==this.searchForm.followerWomanMin&&0!==this.searchForm.followerWomanMin||null!==this.searchForm.followerWomanMax&&0!==this.searchForm.followerWomanMax){var l={};null!==this.searchForm.followerWomanMin&&0!==this.searchForm.followerWomanMin&&(l.$gte=this.searchForm.followerWomanMin),null!==this.searchForm.followerWomanMax&&0!==this.searchForm.followerWomanMax&&(l.$lte=this.searchForm.followerWomanMax),Object.keys(l).length>0&&t.query.$and.push({followerWoman:l})}if(null!==this.searchForm.monthlySalesMin&&0!==this.searchForm.monthlySalesMin||null!==this.searchForm.monthlySalesMax&&0!==this.searchForm.monthlySalesMax){var r={};null!==this.searchForm.monthlySalesMin&&0!==this.searchForm.monthlySalesMin&&(r.$gte=this.searchForm.monthlySalesMin),null!==this.searchForm.monthlySalesMax&&0!==this.searchForm.monthlySalesMax&&(r.$lte=this.searchForm.monthlySalesMax),Object.keys(r).length>0&&t.query.$and.push({monthlySales:r})}if(null!==this.searchForm.monthlySalesAmountMin&&0!==this.searchForm.monthlySalesAmountMin||null!==this.searchForm.monthlySalesAmountMax&&0!==this.searchForm.monthlySalesAmountMax){var o={};null!==this.searchForm.monthlySalesAmountMin&&0!==this.searchForm.monthlySalesAmountMin&&(o.$gte=this.searchForm.monthlySalesAmountMin),null!==this.searchForm.monthlySalesAmountMax&&0!==this.searchForm.monthlySalesAmountMax&&(o.$lte=this.searchForm.monthlySalesAmountMax),Object.keys(o).length>0&&t.query.$and.push({monthlySalesAmount:o})}return this.searchForm.cooperationBrands&&this.searchForm.cooperationBrands.length>0&&t.query.$and.push({"cooperationHistory.brandName":{$in:this.searchForm.cooperationBrands}}),t.query.$and.length||delete t.query.$and,t},fetchData:function(){var t=Object(n.a)(Object(o.a)().mark((function t(){var e,a;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.listLoading=!0,e=this.searchData(),t.next=4,Object(i.b)("expert",e);case 4:a=t.sent,this.tableList=a.data,this.total=a.countnum,this.listLoading=!1;case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),search:function(){this.currentPage=1,this.fetchData()},handleEdit:function(t){this.dialogStatus="update",this.dataForm=Object(r.a)({},t),this.dialogFormVisible=!0},handleSubmit:function(t){"create"===this.dialogStatus?this.createExpert(t):this.updateExpert(t)},handleView:function(t){this.detailDialogVisible=!0,this.detailForm=Object(r.a)(Object(r.a)({},t),{},{cooperationHistory:t.cooperationHistory||[]})},handleDelete:function(t){var e=this;this.$confirm("ç¡®è®¤åˆ é™¤è¾¾äºº?","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(Object(n.a)(Object(o.a)().mark((function a(){return Object(o.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.c)("expert",{query:{_id:t._id}});case 2:e.$message.success("åˆ é™¤æˆåŠŸ"),e.fetchData();case 4:case"end":return a.stop()}}),a)})))).catch((function(){}))},detailDialogClose:function(){this.detailDialogVisible=!1,this.detailForm={}},addExpert:function(){this.dialogStatus="create",this.dataForm={avatar:"",name:"",phone:"",bio:"",mainPlatform:"",mainNickname:"",mainFollowers:0,mainCategory:"",contactInfo:"",area:[],agency:"",averageViews:0,monthlySales:0,monthlySalesAmount:0,followerAgeRange:"",followerMan:0,followerWoman:0,followerInterests:[],followerLocation:[],hotCategoryRatio:[],top3Products:[],platforms:[],sellingMethod:"",productPrice:0,gpm:0,cooperationHistory:[],collaborationCount:0,level:""},this.dialogFormVisible=!0},createExpert:function(){var t=Object(n.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("ğŸš€ ~ createExpert ~ this.dataForm:",this.dataForm),t.next=3,Object(i.a)("expert",this.dataForm);case 3:200===t.sent.code?(this.$message.success("æ·»åŠ æˆåŠŸ"),this.dialogFormVisible=!1,this.fetchData()):this.$message.error("æ·»åŠ å¤±è´¥");case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),updateExpert:function(){var t=Object(n.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.d)("expert",{query:{_id:this.dataForm._id},update:this.dataForm});case 2:200===t.sent.code?(this.$message.success("æ›´æ–°æˆåŠŸ"),this.dialogFormVisible=!1,this.fetchData()):this.$message.error("æ›´æ–°å¤±è´¥");case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),handleAvatarSuccess:function(t,e){this.dataForm.avatar=URL.createObjectURL(e.raw)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,a=t.size/1024/1024<2;return e||this.$message.error("ä¸Šä¼ å¤´åƒå›¾ç‰‡åªèƒ½æ˜¯ JPG æ ¼å¼!"),a||this.$message.error("ä¸Šä¼ å¤´åƒå›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 2MB!"),e&&a},fansNumber:function(t){return t<1e3?t.toString():t<1e4?(t/1e3).toFixed(1)+"k":t<1e6||t<1e7?(t/1e4).toFixed(1)+"w":t<1e8?(t/1e7).toFixed(1)+"åƒä¸‡":(t/1e8).toFixed(1)+"äº¿"},formatFansNumber:function(t){var e=t.reduce((function(t,e){return t+e.followers}),0);return e<1e3?e.toString():e<1e4?(e/1e3).toFixed(1)+"k":e<1e6||e<1e7?(e/1e4).toFixed(1)+"w":(e/1e7).toFixed(1)+"åƒä¸‡"},formatNumber:function(t){return null==t?"0":t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},baseTableHandleCurrentChange:function(t){this.currentPage=t,this.fetchData()},baseTableHandleSizeChange:function(t){this.pageSize=t,this.fetchData()},toggleAdvanced:function(){this.showAdvanced=!this.showAdvanced},resetForm:function(){this.$refs.searchForm.resetFields(),this.searchForm={name:"",platformName:"",platformId:"",platformNickname:"",platformUrl:"",agency:"",whatsappAccount:"",level:"",category:"",sellingMethod:[],area:[],cooperationBrands:[],minFollowers:null,maxFollowers:null,followerWomanMin:null,followerWomanMax:null,monthlySalesMin:null,monthlySalesMax:null,monthlySalesAmountMin:null,monthlySalesAmountMax:null},this.currentPage=1,this.fetchData()},exportData:function(){var t=Object(n.a)(Object(o.a)().mark((function t(){var e,a,s,r,n,c,m,h,d,p=this;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.$message({message:"æ­£åœ¨å¯¼å‡ºæ•°æ®,è¯·ç¨å€™...",type:"info"}),e=this.$loading({lock:!0,text:"å¯¼å‡ºä¸­...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),(a=this.searchData()).limit=1e6,t.next=7,Object(i.b)("expert",a);case 7:if((s=t.sent).data&&0!==s.data.length){t.next=12;break}return this.$message.warning("æ²¡æœ‰æ•°æ®å¯ä¾›å¯¼å‡º"),e.close(),t.abrupt("return");case 12:r=Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({avatar:"å¤´åƒURL",name:"å§“å",phone:"ç”µè¯",bio:"ä¸ªäººç®€ä»‹",platformName:"å¹³å°åç§°",platformId:"å¹³å°ID",nickname:"å¹³å°æ˜µç§°",followers:"ç²‰ä¸æ•°é‡",category:"åˆ†ç±»",level:"è¾¾äººç­‰çº§",sellingMethod:"å¸¦è´§æ–¹å¼",averageEngagement:"å¹³å‡äº’åŠ¨ç‡",averageViews:"å¹³å‡æ’­æ”¾é‡",videoDuration:"è§†é¢‘å¹³å‡æ—¶é•¿",country:"å›½å®¶",region:"åœ°åŒº",city:"åŸå¸‚",contactInfo:"è”ç³»å¼",agency:"ç­¾çº¦æœºæ„",followerAgeRange:"ç²‰ä¸å¹´é¾„èŒƒå›´",followerMan:"ç”·æ€§ç²‰ä¸æ¯”ä¾‹",followerWoman:"å¥³æ€§ç²‰ä¸æ¯”ä¾‹",followerInterests:"ç²‰ä¸å…´è¶£",followerLocation:"ç²‰ä¸åœ°ç†åˆ†å¸ƒ",hotCategoryRatio:"çƒ­é”€å“ç±»å æ¯”",top3Products:"Top3äº§å“"},"sellingMethod","å¸¦è´§æ–¹å¼"),"productPrice","å•†å“å®¢å•ä»·"),"gpm","GPM"),"monthlySales","æœˆé”€é‡"),"monthlySalesAmount","æœˆé”€å”®é¢"),"collaborationCount","åˆä½œæ¬¡æ•°"),"createAt","åˆ›å»ºæ—¶é—´"),"updateAt","æ›´æ–°æ—¶é—´"),n=s.data.map((function(t){var e={};return Object.keys(r).forEach((function(a){var s=t[a];switch(a){case"followers":case"averageViews":s=p.fansNumber(s);break;case"followerMan":case"followerWoman":case"hotCategoryRatio":case"averageEngagement":s=s?s+"%":"0%";break;case"productPrice":s=s?"Â¥"+s:"æœªè®¾ç½®";break;case"followerInterests":case"top3Products":case"sellingMethod":s=Array.isArray(s)?s.join("ã€"):"";break;case"followerLocation":s=Array.isArray(s)?s.map((function(t){return t.join("-")})).join("ã€"):"";break;case"createAt":case"updateAt":s=s?new Date(s).toLocaleString():""}e[r[a]]=s||"æœªè®¾ç½®"})),t.cooperationHistory&&t.cooperationHistory.length>0&&t.cooperationHistory.forEach((function(t,a){var s="åˆä½œè®°å½•".concat(a+1,"_");e[s+"å“ç‰Œ"]=t.brands||"",e[s+"è§†é¢‘/ç›´æ’­"]=t.videos||"",e[s+"è¯„åˆ†"]=t.score||"",e[s+"é”€å”®é¢"]=t.sales?"Â¥"+p.formatNumber(t.sales):"",e[s+"å¤‡æ³¨"]=t.remark||""})),e})),c=u.a.utils.book_new(),m=u.a.utils.json_to_sheet(n),h=[],Object.keys(n[0]).forEach((function(t){h.push({wch:Math.max(2*t.length,15)})})),m["!cols"]=h,u.a.utils.book_append_sheet(c,m,"è¾¾äººæ•°æ®"),d="è¾¾äººæ•°æ®_".concat((new Date).toLocaleDateString(),".xlsx"),u.a.writeFile(c,d),e.close(),this.$message.success("å¯¼å‡ºæˆåŠŸ!"),t.next=31;break;case 26:t.prev=26,t.t0=t.catch(0),console.error("å¯¼å‡ºé”™è¯¯:",t.t0),this.$message.error("å¯¼å‡ºå¤±è´¥: "+(t.t0.message||"æœªçŸ¥é”™è¯¯")),loading.close();case 31:case"end":return t.stop()}}),t,this,[[0,26]])})));return function(){return t.apply(this,arguments)}}(),getEngagementClass:function(t){return t?t>=5?"text-success":t>=3?"text-warning":"text-danger":""},formatArea:function(t){if(!Array.isArray(t)||0===t.length)return"æœªå¡«å†™åœ°åŒºä¿¡æ¯";for(var e=[],a=h,s=function(){var s=t[l],r=a.find((function(t){return t.value===s}));r&&(e.push(r.label),a=r.children||[])},l=0;l<t.length;l++)s();return e.join(" / ")},hasPermission:function(t){var e=this.$store.state.user;return console.log("userInfo: ",e),!!this.$store.getters.roles.label.includes("Admin")||t.createBy===e.id},getGPMClass:function(t){return t?t>=1e3?"text-success":t>=500?"text-warning":"text-danger":""},showImportDialog:function(){this.importDialogVisible=!0,this.fileList=[]},handleFileChange:function(t){this.fileList=[t]},importData:function(){var t=Object(n.a)(Object(o.a)().mark((function t(){var e,a,l=this;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.fileList.length){t.next=3;break}return this.$message.warning("è¯·å…ˆé€‰æ‹©è¦å¯¼å…¥çš„æ–‡ä»¶"),t.abrupt("return");case 3:try{this.importing=!0,e=this.fileList[0].raw,(a=new FileReader).onload=function(){var t=Object(n.a)(Object(o.a)().mark((function t(e){var a,r,n,c,m,h,d,p,v,f,_,b,g,w,y;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=new Uint8Array(e.target.result),r=u.a.read(a,{type:"array"}),n=r.SheetNames[0],c=r.Sheets[n],m=u.a.utils.sheet_to_json(c),h=m.map((function(t){return l.processImportRow(t)})),d=h.filter((function(t){return!t.platformName||!t.platformId||!t.nickname})),!(d.length>0)){t.next=10;break}return l.$message.error("å­˜åœ¨æ•°æ®ç¼ºå°‘å¿…å¡«å­—æ®µï¼ˆå¹³å°åç§°ã€å¹³å°IDã€å¹³å°æ˜µç§°ï¼‰ï¼Œè¯·æ£€æŸ¥"),t.abrupt("return");case 10:if(p=h.map((function(t){return t.platformId})),v=p.filter((function(t,e){return p.indexOf(t)!==e})),!(v.length>0)){t.next=15;break}return l.$message.error("Excelä¸­å­˜åœ¨é‡å¤çš„å¹³å°ID: ".concat(v.join(", "))),t.abrupt("return");case 15:return t.prev=15,t.next=18,Object(i.b)("expert",{query:{platformId:{$in:p}},select:"platformId platformName nickname"});case 18:if(!((f=t.sent).data&&f.data.length>0)){t.next=40;break}return _=f.data.map((function(t){return{platformId:t.platformId,platformName:t.platformName,nickname:t.nickname}})),t.next=23,l.$confirm("ä»¥ä¸‹å¹³å°IDçš„è¾¾äººå·²å­˜åœ¨ï¼Œæ˜¯å¦æ›´æ–°ï¼Ÿ\n".concat(_.map((function(t){return"å¹³å°ID: ".concat(t.platformId,", å¹³å°: ").concat(t.platformName,", æ˜µç§°: ").concat(t.nickname)})).join("\n")),"ç¡®è®¤æ›´æ–°",{confirmButtonText:"æ›´æ–°",cancelButtonText:"å–æ¶ˆ",type:"warning",dangerouslyUseHTMLString:!0}).catch((function(){return!1}));case 23:if(t.sent){t.next=27;break}return l.$message.info("å·²å–æ¶ˆå¯¼å…¥"),t.abrupt("return");case 27:return b=f.data.map((function(t){return t.platformId})),g=[],w=[],console.log("existingIds: ",b),h.forEach((function(t){console.log("item: ",t.platformId),b.includes(t.platformId)?w.push(t):g.push(t)})),console.log("æ–°å¢æ•°æ®: ",g),console.log("æ›´æ–°æ•°æ®: ",w),t.next=36,Promise.all([g.length>0?Object(i.a)("expert",g):Promise.resolve()].concat(Object(s.a)(w.map((function(t){return Object(i.d)("expert",{query:{platformId:t.platformId},update:t})})))));case 36:t.sent,l.$message.success("å¯¼å…¥å®Œæˆï¼æ–°å¢: ".concat(g.length,"æ¡, æ›´æ–°: ").concat(w.length,"æ¡")),t.next=45;break;case 40:return console.log("processedData: ",h),y=Array.isArray(h)?h:[h],t.next=44,Object(i.a)("expert",y);case 44:l.$message.success("å¯¼å…¥å®Œæˆï¼æ–°å¢: ".concat(y.length,"æ¡"));case 45:l.importDialogVisible=!1,l.fetchData(),t.next=53;break;case 49:t.prev=49,t.t0=t.catch(15),console.error("å¯¼å…¥é”™è¯¯:",t.t0),l.$message.error("å¯¼å…¥å¤±è´¥ï¼š"+(t.t0.message||"æœªçŸ¥é”™è¯¯"));case 53:case"end":return t.stop()}}),t,null,[[15,49]])})));return function(e){return t.apply(this,arguments)}}(),a.readAsArrayBuffer(e)}catch(t){console.error("å¤„ç†æ–‡ä»¶æ—¶å‡ºé”™:",t),this.$message.error("å¤„ç†æ–‡ä»¶æ—¶å‡ºé”™ï¼š"+(t.message||"æœªçŸ¥é”™è¯¯"))}finally{this.importing=!1}case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),processImportRow:function(t){var e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ã€";return t?Array.isArray(t)?t:String(t).split(e).filter(Boolean):[]};return{platformName:t["å¹³å°åç§°*"]||"",platformId:t["å¹³å°ID*"]?String(t["å¹³å°ID*"]).trim():"",platformUrl:t["å¹³å°é“¾æ¥"]||"",nickname:t["å¹³å°æ˜µç§°*"]||"",followers:this.parseNumber(t["ç²‰ä¸æ•°é‡"]),category:e(t["åˆ†ç±»"]),averageEngagement:this.parseNumber(t["å¹³å‡äº’åŠ¨ç‡"]),averageViews:this.parseNumber(t["å¹³å‡æ’­æ”¾é‡"]),videoDuration:this.parseNumber(t["è§†é¢‘å¹³å‡æ—¶é•¿"]),area:e(t["åœ°åŒº"]),country:t["å›½å®¶"]||"",region:t["çœä»½"]||"",city:t["åŸå¸‚"]||"",contactInfo:t["è”ç³»æ–¹å¼"]||"",agency:t["ç­¾çº¦æœºæ„"]||"",whatsappAccount:t["WhatsAppè´¦å·"]||"",phone:t["ç”µè¯"]||"",followerAgeRange:t["ç²‰ä¸å¹´é¾„èŒƒå›´"]||"",followerMan:this.parseNumber(t["ç”·æ€§ç²‰ä¸æ¯”ä¾‹"]),followerWoman:this.parseNumber(t["å¥³æ€§ç²‰ä¸æ¯”ä¾‹"]),followerInterests:e(t["ç²‰ä¸å…´è¶£"]),followerLocation:e(t["ç²‰ä¸åœ°ç†ä½ç½®"]).map((function(t){return"string"==typeof t?t.split("-"):[t]})),hotCategoryRatio:e(t["çƒ­é”€å“ç±»å æ¯”"]),top3Products:e(t["Top3äº§å“"]),sellingMethod:e(t["å¸¦è´§æ–¹å¼"]),productPriceMin:this.parseNumber(t["æœ€ä½å®¢å•ä»·"]),productPriceMax:this.parseNumber(t["æœ€é«˜å®¢å•ä»·"]),gpm:this.parseNumber(t.GPM),collaborationCount:0,createBy:this.$store.state.user.id,updateBy:this.$store.state.user.id,createAt:new Date,updateAt:new Date}},parseNumber:function(t){if(!t)return 0;var e=Number(t.toString().replace(/[^0-9.-]/g,""));return isNaN(e)?0:e},batchImportExperts:function(){var t=Object(n.a)(Object(o.a)().mark((function t(e){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.a)("expert",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),downloadTemplate:function(){var t=[this.templateHeaders.reduce((function(t,e){return t[e]="",t}),{})],e=u.a.utils.book_new(),a=u.a.utils.json_to_sheet(t,{header:this.templateHeaders}),s=this.templateHeaders.map((function(t){return{wch:Math.max(2*t.length,15)}}));a["!cols"]=s,u.a.utils.book_append_sheet(e,a,"è¾¾äººæ•°æ®æ¨¡æ¿"),u.a.writeFile(e,"è¾¾äººæ•°æ®å¯¼å…¥æ¨¡æ¿.xlsx")},handleSelectionChange:function(t){console.log("val: ",t),this.isSelectMode&&(this.selection=t,this.$emit("selection-change",t))},handleSelectable:function(t){return!(this.checkSelectable&&!this.checkSelectable(t))&&(this.multiple?this.selection.length<this.maxSelect||this.selection.includes(t):0===this.selection.length||this.selection.includes(t))},getSelectedExperts:function(){return this.selection},clearSelection:function(){this.$refs.baseTable&&this.$refs.baseTable.$refs.table&&(this.$refs.baseTable.$refs.table.clearSelection(),this.selection=[])},setSelection:function(t){var e=this;this.clearSelection(),this.$refs.baseTable&&this.$refs.baseTable.$refs.table&&t.forEach((function(t){e.$refs.baseTable.$refs.table.toggleRowSelection(t,!0)}))},formatDate:function(t){if(!t)return"æš‚æ— æ•°æ®";var e=new Date(t);if(isNaN(e.getTime()))return"æ— æ•ˆæ—¥æœŸ";var a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0"),r=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0");return"".concat(a,"-").concat(s,"-").concat(l," ").concat(r,":").concat(o)}},"formatNumber",(function(t){return t||0===t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0"})),"openUrl",(function(t){t&&window.open(t,"_blank")})),watch:{selectedIds:{immediate:!0,handler:function(t){if(this.isSelectMode&&t&&t.length){var e=this.tableList.filter((function(e){return t.includes(e._id)}));this.setSelection(e)}}}}},v=p,f=(a("23e2"),a("2877")),_=Object(f.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"filter-container"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("ç­›é€‰æœç´¢")]),t._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:t.toggleAdvanced}},[t._v("\n        "+t._s(t.showAdvanced?"æ”¶èµ·":"å±•å¼€")+"é«˜çº§æœç´¢\n      ")])],1),t._v(" "),a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{model:t.searchForm}},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"è¾¾äººå§“å"}},[a("el-input",{attrs:{placeholder:"è¯·è¾“å…¥è¾¾äººå§“å",clearable:""},model:{value:t.searchForm.name,callback:function(e){t.$set(t.searchForm,"name",e)},expression:"searchForm.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"åˆä½œå¹³å°"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"è¯·é€‰æ‹©å¹³å°",clearable:""},model:{value:t.searchForm.platformName,callback:function(e){t.$set(t.searchForm,"platformName",e)},expression:"searchForm.platformName"}},t._l(t.dict.type.expert_platform,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"å¹³å°ID"}},[a("el-input",{attrs:{placeholder:"è¯·è¾“å…¥å¹³å°ID",clearable:""},model:{value:t.searchForm.platformId,callback:function(e){t.$set(t.searchForm,"platformId",e)},expression:"searchForm.platformId"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"å¹³å°æ˜µç§°"}},[a("el-input",{attrs:{placeholder:"è¯·è¾“å…¥å¹³å°æ˜µç§°",clearable:""},model:{value:t.searchForm.platformNickname,callback:function(e){t.$set(t.searchForm,"platformNickname",e)},expression:"searchForm.platformNickname"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"å¹³å°é“¾æ¥"}},[a("el-input",{attrs:{placeholder:"è¯·è¾“å…¥å¹³å°é“¾æ¥",clearable:""},model:{value:t.searchForm.platformUrl,callback:function(e){t.$set(t.searchForm,"platformUrl",e)},expression:"searchForm.platformUrl"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"ç­¾çº¦æœºæ„"}},[a("el-input",{attrs:{placeholder:"è¯·è¾“å…¥ç­¾çº¦æœºæ„",clearable:""},model:{value:t.searchForm.agency,callback:function(e){t.$set(t.searchForm,"agency",e)},expression:"searchForm.agency"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"è¾¾äººç­‰çº§"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"è¯·é€‰æ‹©è¾¾äººç­‰çº§",clearable:""},model:{value:t.searchForm.level,callback:function(e){t.$set(t.searchForm,"level",e)},expression:"searchForm.level"}},t._l(t.dict.type.level,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"WhatsApp"}},[a("el-input",{attrs:{placeholder:"è¯·è¾“å…¥WhatsAppè´¦å·",clearable:""},model:{value:t.searchForm.whatsappAccount,callback:function(e){t.$set(t.searchForm,"whatsappAccount",e)},expression:"searchForm.whatsappAccount"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"è¾¾äººåˆ†ç±»"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"è¯·é€‰æ‹©è¾¾äººåˆ†ç±»",clearable:""},model:{value:t.searchForm.category,callback:function(e){t.$set(t.searchForm,"category",e)},expression:"searchForm.category"}},t._l(t.dict.type.category,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"å¸¦è´§æ–¹å¼"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"","collapse-tags":"",placeholder:"è¯·é€‰æ‹©å¸¦è´§æ–¹å¼"},model:{value:t.searchForm.sellingMethod,callback:function(e){t.$set(t.searchForm,"sellingMethod",e)},expression:"searchForm.sellingMethod"}},t._l(t.dict.type.delivery_method,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"å›½å®¶"}},[a("ZrAddressSelect",{attrs:{checkStrictly:!0,isMultiple:!0},model:{value:t.searchForm.area,callback:function(e){t.$set(t.searchForm,"area",e)},expression:"searchForm.area"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"åˆä½œå“ç‰Œ"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",clearable:"",placeholder:"è¯·é€‰æ‹©æˆ–è€…è¾“å…¥åˆä½œå“ç‰Œ"},model:{value:t.searchForm.cooperationBrands,callback:function(e){t.$set(t.searchForm,"cooperationBrands",e)},expression:"searchForm.cooperationBrands"}},t._l(t.dict.type.brand,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1),t._v(" "),a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showAdvanced,expression:"showAdvanced"}]},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"ç²‰ä¸æ•°èŒƒå›´"}},[a("el-input-number",{staticStyle:{width:"45%"},attrs:{min:0,placeholder:"æœ€å°å€¼"},model:{value:t.searchForm.minFollowers,callback:function(e){t.$set(t.searchForm,"minFollowers",e)},expression:"searchForm.minFollowers"}}),t._v(" "),a("span",{staticStyle:{margin:"0 10px"}},[t._v("-")]),t._v(" "),a("el-input-number",{staticStyle:{width:"45%"},attrs:{min:0,placeholder:"æœ€å¤§å€¼"},model:{value:t.searchForm.maxFollowers,callback:function(e){t.$set(t.searchForm,"maxFollowers",e)},expression:"searchForm.maxFollowers"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"å¥³æ€§å æ¯”èŒƒå›´"}},[a("el-input-number",{staticStyle:{width:"45%"},attrs:{min:0,max:100,placeholder:"æœ€å°å€¼"},model:{value:t.searchForm.followerWomanMin,callback:function(e){t.$set(t.searchForm,"followerWomanMin",e)},expression:"searchForm.followerWomanMin"}}),t._v(" "),a("span",{staticStyle:{margin:"0 10px"}},[t._v("-")]),t._v(" "),a("el-input-number",{staticStyle:{width:"45%"},attrs:{min:0,max:100,placeholder:"æœ€å¤§å€¼"},model:{value:t.searchForm.followerWomanMax,callback:function(e){t.$set(t.searchForm,"followerWomanMax",e)},expression:"searchForm.followerWomanMax"}})],1)],1)],1)],1)]),t._v(" "),a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showAdvanced,expression:"showAdvanced"}]},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"æœˆé”€é‡èŒƒå›´"}},[a("el-input-number",{staticStyle:{width:"45%"},attrs:{min:0,placeholder:"æœ€å°å€¼"},model:{value:t.searchForm.monthlySalesMin,callback:function(e){t.$set(t.searchForm,"monthlySalesMin",e)},expression:"searchForm.monthlySalesMin"}}),t._v(" "),a("span",{staticStyle:{margin:"0 10px"}},[t._v("-")]),t._v(" "),a("el-input-number",{staticStyle:{width:"45%"},attrs:{min:0,placeholder:"æœ€å¤§å€¼"},model:{value:t.searchForm.monthlySalesMax,callback:function(e){t.$set(t.searchForm,"monthlySalesMax",e)},expression:"searchForm.monthlySalesMax"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"æœˆé”€å”®é¢èŒƒå›´"}},[a("el-input-number",{staticStyle:{width:"45%"},attrs:{min:0,placeholder:"æœ€å°å€¼"},model:{value:t.searchForm.monthlySalesAmountMin,callback:function(e){t.$set(t.searchForm,"monthlySalesAmountMin",e)},expression:"searchForm.monthlySalesAmountMin"}}),t._v(" "),a("span",{staticStyle:{margin:"0 10px"}},[t._v("-")]),t._v(" "),a("el-input-number",{staticStyle:{width:"45%"},attrs:{min:0,placeholder:"æœ€å¤§å€¼"},model:{value:t.searchForm.monthlySalesAmountMax,callback:function(e){t.$set(t.searchForm,"monthlySalesAmountMax",e)},expression:"searchForm.monthlySalesAmountMax"}})],1)],1)],1)],1)]),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("æŸ¥è¯¢æœç´¢")]),t._v(" "),a("el-button",{on:{click:t.resetForm}},[t._v("é‡ç½®")]),t._v(" "),t.isSelectMode?t._e():[a("el-button",{attrs:{type:"success"},on:{click:t.exportData}},[t._v("å¯¼å‡ºæ•°æ®")]),t._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:t.showImportDialog}},[t._v("å¯¼å…¥æ•°æ®")]),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:t.downloadTemplate}},[t._v("ä¸‹è½½æ¨¡æ¿")])]],2)],1)],1),t._v(" "),t.isSelectMode?t._e():a("div",{staticClass:"screen1"},[a("div",{staticClass:"screen_content"},[a("div",{staticClass:"screen_content_first"},[a("i",{staticClass:"el-icon-tickets"},[t._v("è¾¾äººåˆ—è¡¨")]),t._v(" "),a("el-button",{staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:t.addExpert}},[t._v("æ·»åŠ è¾¾äºº")])],1)])]),t._v(" "),a("base-table",{ref:"baseTable",attrs:{currentPage:t.currentPage,"highlight-current-row":!0,pageSize:t.pageSize,tableData:t.tableList,tableDataloading:t.listLoading,total:t.total},on:{"selection-change":t.handleSelectionChange,handleCurrentChange:t.baseTableHandleCurrentChange,handleSizeChange:t.baseTableHandleSizeChange}},[a("template",{slot:"law"},[t.isSelectMode?a("el-table-column",{attrs:{type:"selection",width:"55",selectable:t.handleSelectable}}):t._e(),t._v(" "),a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"expert-expand",attrs:{"label-position":"left",inline:""}},[a("el-row",{staticClass:"expand-section"},[a("div",{staticClass:"section-title"},[t._v("ç²‰ä¸ç”»åƒ")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"ç²‰ä¸å¹´é¾„"}},[a("span",[t._v(t._s(e.row.followerAgeRange||"æš‚æ— æ•°æ®"))])])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"æ€§åˆ«æ¯”ä¾‹"}},[a("span",[t._v("ç”·: "+t._s(e.row.followerMan)+"% / å¥³: "+t._s(e.row.followerWoman)+"%")])])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"ç²‰ä¸å…´è¶£"}},t._l(e.row.followerInterests,(function(e){return a("el-tag",{key:e,staticStyle:{"margin-right":"5px"},attrs:{size:"mini"}},[t._v("\n                    "+t._s(e)+"\n                  ")])})),1)],1)],1),t._v(" "),a("el-row",{staticClass:"expand-section"},[a("div",{staticClass:"section-title"},[t._v("å•†ä¸šæ•°æ®")]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"çƒ­é”€å“ç±»å æ¯”"}},[a("span",[t._v(t._s(e.row.hotCategoryRatio)+"%")])])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"å®¢å•ä»·"}},[a("span",[t._v("Â¥"+t._s(e.row.productPrice||0))])])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"GPM"}},[a("span",[t._v(t._s(e.row.gpm||0))])])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"å¸¦è´§æ–¹å¼"}},t._l(e.row.sellingMethod,(function(e){return a("el-tag",{key:e,staticStyle:{"margin-right":"5px"},attrs:{size:"mini"}},[t._v("\n                    "+t._s(e)+"\n                  ")])})),1)],1)],1),t._v(" "),a("el-row",{staticClass:"expand-section"},[a("div",{staticClass:"section-title"},[t._v("ç»çºªäººä¿¡æ¯")]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"ç»çºªäºº"}},[a("span",[t._v(t._s(e.row.createBy&&e.row.createBy.nickName||"æš‚æ— æ•°æ®"))])])],1)],1),t._v(" "),e.row.cooperationHistory&&e.row.cooperationHistory.length?a("el-row",{staticClass:"expand-section"},[a("div",{staticClass:"section-title"},[t._v("å†å²åˆä½œè®°å½•")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.row.cooperationHistory,size:"mini",border:""}},[a("el-table-column",{attrs:{prop:"brands",label:"åˆä½œå“ç‰Œ",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"videos",label:"è§†é¢‘/ç›´æ’­",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"score",label:"è¯„åˆ†",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sales",label:"é”€å”®é¢",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    Â¥"+t._s(t.formatNumber(e.row.sales))+"\n                  ")]}}],null,!0)}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"å¤‡æ³¨"}})],1)],1):t._e()],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"å¹³å°ID",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"info"}},[t._v(t._s(e.row.platformId))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"æ˜µç§°",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.nickname)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"å¹³å°",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"success"}},[t._v(t._s(e.row.platformName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"åˆ†ç±»",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.category,(function(e){return a("el-tag",{key:e,staticStyle:{"margin-right":"5px"},attrs:{size:"mini"}},[t._v("\n            "+t._s(e)+"\n          ")])}))}}])}),t._v(" "),a("el-table-column",{attrs:{label:"å¸¦è´§æ–¹å¼",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.sellingMethod,(function(e){return a("el-tag",{key:e,staticStyle:{"margin-right":"5px"},attrs:{size:"mini"}},[t._v("\n            "+t._s(e)+"\n          ")])}))}}])}),t._v(" "),a("el-table-column",{attrs:{label:"ç­¾çº¦æœºæ„",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.agency?a("span",[a("i",{staticClass:"el-icon-office-building"}),t._v(" "+t._s(e.row.agency)+"\n          ")]):a("span",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"ç»çºªäºº",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.createBy&&e.row.createBy.nickName||"æš‚æ— æ•°æ®"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"è¾¾äººç­‰çº§",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"warning"}},[t._v(t._s(e.row.level))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"ç²‰ä¸æ•°",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.fansNumber(e.row.followers))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"å¥³ç²‰å æ¯”",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.followerWoman||0)+"%")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"äº’åŠ¨ç‡",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:t.getEngagementClass(e.row.averageEngagement)},[t._v("\n            "+t._s(e.row.averageEngagement)+"%\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"å¹³å‡æ’­æ”¾",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.fansNumber(e.row.averageViews))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"æœˆé”€é‡",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.monthlySales||0)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"æœˆé”€å”®é¢",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.monthlySalesAmount||0)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"åœ°åŒº",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.area?a("div",[t._v("\n            "+t._s(t.formatArea(e.row.area))+"\n          ")]):a("div",[t._v("æœªå¡«å†™åœ°åŒºä¿¡æ¯")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"å¹³å°é“¾æ¥",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.platformUrl?a("el-link",{attrs:{type:"primary",href:e.row.platformUrl,target:"_blank"}},[a("i",{staticClass:"el-icon-link"}),t._v(" è®¿é—®\n          ")]):a("span",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"WhatsApp",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.whatsappAccount?a("span",[a("i",{staticClass:"el-icon-chat-dot-square"}),t._v(" "+t._s(e.row.whatsappAccount)+"\n          ")]):a("span",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"å®¢å•ä»·",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.productPriceMin||e.row.productPriceMax?[t._v("\n            Â¥"+t._s(e.row.productPriceMin||0)+" - Â¥"+t._s(e.row.productPriceMax||0)+"\n          ")]:a("span",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"GPM",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:t.getGPMClass(e.row.gpm)},[t._v("\n            "+t._s(e.row.gpm||0)+"\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"åˆä½œæ¬¡æ•°",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"info",size:"mini"}},[t._v("\n            "+t._s(e.row.collaborationCount||0)+"\n          ")])]}}])}),t._v(" "),t.isSelectMode?t._e():a("el-table-column",{attrs:{align:"center",label:"æ“ä½œ",width:"180",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.handleView(s)}}},[t._v("æŸ¥çœ‹è¯¦æƒ…")]),t._v(" "),t.hasPermission(s)?[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.handleEdit(s)}}},[t._v("ç¼–è¾‘")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.handleDelete(s)}}},[t._v("åˆ é™¤")])]:t._e()]]}}],null,!1,397326986)})],1)],2),t._v(" "),a("edit-dialog",{attrs:{dialogFormVisible:t.dialogFormVisible,dialogStatus:t.dialogStatus,dataForm:t.dataForm},on:{"update:dialogFormVisible":function(e){t.dialogFormVisible=e},"update:dialog-form-visible":function(e){t.dialogFormVisible=e},submit:t.handleSubmit}}),t._v(" "),a("el-dialog",{attrs:{title:"è¾¾äººè¯¦æƒ…",visible:t.detailDialogVisible,width:"80%","custom-class":"modern-expert-dialog"},on:{"update:visible":function(e){t.detailDialogVisible=e},close:t.detailDialogClose}},[a("div",{staticClass:"expert-detail-container"},[a("el-card",{staticClass:"detail-card account-info"},[a("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[a("i",{staticClass:"el-icon-user"}),t._v(" "),a("span",[t._v("è´¦å·ä¿¡æ¯")])]),t._v(" "),a("div",{staticClass:"section-block"},[a("div",{staticClass:"section-title"},[t._v("åŸºç¡€ä¿¡æ¯")]),t._v(" "),a("div",{staticClass:"info-grid"},[a("div",{staticClass:"info-row"},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("æ‰€å±å¹³å°")]),t._v(" "),a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v(t._s(t.detailForm.platformName))])],1),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("å¹³å°ID")]),t._v(" "),a("el-tag",{attrs:{type:"info",effect:"plain"}},[t._v(t._s(t.detailForm.platformId))])],1),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("å¹³å°æ˜µç§°")]),t._v(" "),a("span",{staticClass:"value highlight"},[t._v(t._s(t.detailForm.nickname))])])]),t._v(" "),a("div",{staticClass:"info-row"},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("è´¦å·é“¾æ¥")]),t._v(" "),t.detailForm.platformUrl?a("el-link",{attrs:{type:"primary",href:t.detailForm.platformUrl,target:"_blank"}},[a("i",{staticClass:"el-icon-link"}),t._v(" è®¿é—®ä¸»é¡µ\n                ")]):a("span",{staticClass:"empty-value"},[t._v("æš‚æ— é“¾æ¥")])],1),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("è¾¾äººç­‰çº§")]),t._v(" "),a("el-tag",{staticClass:"level-tag",attrs:{type:"warning",effect:"dark"}},[t._v(t._s(t.detailForm.level))])],1),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("ç»çºªäºº")]),t._v(" "),a("span",{staticClass:"value"},[t._v(t._s(t.detailForm.createBy&&t.detailForm.createBy.nickName||"æš‚æ— "))])])]),t._v(" "),a("div",{staticClass:"info-row"},[a("div",{staticClass:"info-item full-width"},[a("span",{staticClass:"label"},[t._v("è´¦å·åˆ†ç±»")]),t._v(" "),a("div",{staticClass:"tags-container"},t._l(t.detailForm.category,(function(e){return a("el-tag",{key:e,staticClass:"category-tag",attrs:{size:"small",effect:"light"}},[t._v("\n                    "+t._s(e)+"\n                  ")])})),1)])])])]),t._v(" "),a("div",{staticClass:"section-block"},[a("div",{staticClass:"section-title"},[t._v("è”ç³»æ–¹å¼")]),t._v(" "),a("div",{staticClass:"info-grid"},[a("div",{staticClass:"info-row"},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("ç”µè¯")]),t._v(" "),a("span",{staticClass:"value"},[t._v(t._s(t.detailForm.phone||"æš‚æ— "))])]),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("WhatsApp")]),t._v(" "),a("span",{staticClass:"value"},[t._v(t._s(t.detailForm.whatsappAccount||"æš‚æ— "))])]),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("ç­¾çº¦æœºæ„")]),t._v(" "),a("span",{staticClass:"value"},[t._v(t._s(t.detailForm.agency||"æš‚æ— "))])])]),t._v(" "),a("div",{staticClass:"info-row"},[a("div",{staticClass:"info-item full-width"},[a("span",{staticClass:"label"},[t._v("å…¶ä»–è”ç³»æ–¹å¼")]),t._v(" "),a("span",{staticClass:"value"},[t._v(t._s(t.detailForm.contactInfo||"æš‚æ— "))])])])])]),t._v(" "),a("div",{staticClass:"section-block"},[a("div",{staticClass:"section-title"},[t._v("å¹³å°æ•°æ®")]),t._v(" "),a("div",{staticClass:"stats-grid"},[a("div",{staticClass:"stat-card"},[a("div",{staticClass:"stat-value"},[t._v(t._s(t.fansNumber(t.detailForm.followers)))]),t._v(" "),a("div",{staticClass:"stat-label"},[t._v("ç²‰ä¸æ•°é‡")])]),t._v(" "),a("div",{staticClass:"stat-card"},[a("div",{staticClass:"stat-value",class:t.getEngagementClass(t.detailForm.averageEngagement)},[t._v("\n                "+t._s(t.detailForm.averageEngagement)+"%\n              ")]),t._v(" "),a("div",{staticClass:"stat-label"},[t._v("å¹³å‡äº’åŠ¨ç‡")])]),t._v(" "),a("div",{staticClass:"stat-card"},[a("div",{staticClass:"stat-value"},[t._v(t._s(t.fansNumber(t.detailForm.averageViews)))]),t._v(" "),a("div",{staticClass:"stat-label"},[t._v("å¹³å‡æ’­æ”¾é‡")])]),t._v(" "),a("div",{staticClass:"stat-card"},[a("div",{staticClass:"stat-value"},[t._v("Â¥"+t._s(t.formatNumber(t.detailForm.monthlySalesAmount)))]),t._v(" "),a("div",{staticClass:"stat-label"},[t._v("æœˆé”€å”®é¢")])])])]),t._v(" "),a("div",{staticClass:"section-block"},[a("div",{staticClass:"section-title"},[t._v("ç²‰ä¸ç”»åƒ")]),t._v(" "),a("div",{staticClass:"info-grid"},[a("div",{staticClass:"info-row"},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("ç”·æ€§ç²‰ä¸")]),t._v(" "),a("div",{staticClass:"percentage-bar"},[a("div",{staticClass:"percentage-value"},[t._v(t._s(t.detailForm.followerMan)+"%")]),t._v(" "),a("div",{staticClass:"progress-bar"},[a("div",{staticClass:"progress-inner male",style:{width:t.detailForm.followerMan+"%"}})])])]),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("å¥³æ€§ç²‰ä¸")]),t._v(" "),a("div",{staticClass:"percentage-bar"},[a("div",{staticClass:"percentage-value"},[t._v(t._s(t.detailForm.followerWoman)+"%")]),t._v(" "),a("div",{staticClass:"progress-bar"},[a("div",{staticClass:"progress-inner female",style:{width:t.detailForm.followerWoman+"%"}})])])])])])])]),t._v(" "),a("el-card",{staticClass:"detail-card sales-history"},[a("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[a("i",{staticClass:"el-icon-shopping-cart-full"}),t._v(" "),a("span",[t._v("å¸¦è´§æ•°æ®ä¸åˆä½œå†å²")])]),t._v(" "),a("div",{staticClass:"section-block"},[a("div",{staticClass:"section-title"},[a("i",{staticClass:"el-icon-data-line"}),t._v(" "),a("span",[t._v("å¸¦è´§æ•°æ®")])]),t._v(" "),a("div",{staticClass:"info-grid"},[a("div",{staticClass:"info-row"},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("çƒ­é”€å“ç±»å æ¯”")]),t._v(" "),a("div",{staticClass:"tags-container"},t._l(t.detailForm.hotCategoryRatio,(function(e){return a("el-tag",{key:e,staticClass:"category-tag",attrs:{size:"small",effect:"light"}},[t._v("\n                    "+t._s(e)+"\n                  ")])})),1)]),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("å¸¦è´§æ–¹å¼")]),t._v(" "),a("div",{staticClass:"tags-container"},t._l(t.detailForm.sellingMethod,(function(e){return a("el-tag",{key:e,attrs:{type:"success",effect:"light",size:"small"}},[t._v("\n                    "+t._s(e)+"\n                  ")])})),1)])]),t._v(" "),a("div",{staticClass:"info-row"},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("å®¢å•ä»·åŒºé—´")]),t._v(" "),a("span",{staticClass:"value"},[t._v("Â¥"+t._s(t.detailForm.productPriceMin||0)+" - Â¥"+t._s(t.detailForm.productPriceMax||0))])]),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("GPM")]),t._v(" "),a("span",{staticClass:"value",class:t.getGPMClass(t.detailForm.gpm)},[t._v(t._s(t.detailForm.gpm||0))])]),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("æœˆé”€é‡")]),t._v(" "),a("span",{staticClass:"value highlight"},[t._v(t._s(t.detailForm.monthlySales||0))])]),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"label"},[t._v("æœˆé”€å”®é¢")]),t._v(" "),a("span",{staticClass:"value highlight"},[t._v("Â¥"+t._s(t.detailForm.monthlySalesAmount||0))])])]),t._v(" "),a("div",{staticClass:"info-row"},[a("div",{staticClass:"info-item full-width"},[a("span",{staticClass:"label"},[t._v("å¸¦è´§TOP3äº§å“")]),t._v(" "),a("div",{staticClass:"tags-container"},t._l(t.detailForm.top3Products,(function(e){return a("el-tag",{key:e,attrs:{type:"warning",effect:"light",size:"small"}},[t._v("\n                    "+t._s(e)+"\n                  ")])})),1)])])])]),t._v(" "),a("div",{staticClass:"section-block"},[a("div",{staticClass:"section-title"},[a("i",{staticClass:"el-icon-time"}),t._v(" "),a("span",[t._v("åˆä½œå†å²")]),t._v(" "),a("span",{staticClass:"cooperation-count"},[t._v("å…±"+t._s((t.detailForm.cooperationHistory||[]).length)+"æ¬¡åˆä½œ")])]),t._v(" "),a("el-table",{staticClass:"history-table",staticStyle:{width:"100%"},attrs:{data:t.detailForm.cooperationHistory||[],"max-height":400}},[a("el-table-column",{attrs:{label:"å“ç‰Œä¿¡æ¯",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"brand-info"},[a("div",{staticClass:"brand-name"},[t._v(t._s(e.row.brandName))]),t._v(" "),a("el-tag",{attrs:{size:"mini",effect:"plain"}},[t._v(t._s(e.row.brandCategory))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"è§†é¢‘æ•°æ®",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"video-stats"},[a("div",{staticClass:"stat-item"},[a("i",{staticClass:"el-icon-video-camera"}),t._v(" "),e.row.videoUrl?a("el-link",{attrs:{type:"primary"},on:{click:function(a){return t.openUrl(e.row.videoUrl)}}},[t._v("\n                      æŸ¥çœ‹è§†é¢‘\n                    ")]):a("span",[t._v("æš‚æ— è§†é¢‘")])],1),t._v(" "),a("div",{staticClass:"stat-row"},[a("span",{staticClass:"stat-label"},[t._v("å‘å¸ƒæ—¶é—´ï¼š")]),t._v(" "),a("span",[t._v(t._s(t.formatDate(e.row.videoPublishTime)))])]),t._v(" "),a("div",{staticClass:"stat-row"},[a("span",{staticClass:"stat-label"},[t._v("GMVï¼š")]),t._v(" "),a("span",{staticClass:"highlight"},[t._v("Â¥"+t._s(t.formatNumber(e.row.videoGMV)))])]),t._v(" "),a("div",{staticClass:"stat-row"},[a("span",{staticClass:"stat-label"},[t._v("è®¢å•æ•°ï¼š")]),t._v(" "),a("span",[t._v(t._s(t.formatNumber(e.row.videoOrders)))])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"äº’åŠ¨æ•°æ®",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"interaction-stats"},[a("div",{staticClass:"stat-row"},[a("i",{staticClass:"el-icon-view"}),t._v(" "),a("span",[t._v(t._s(t.formatNumber(e.row.videoViews)))])]),t._v(" "),a("div",{staticClass:"stat-row"},[a("i",{staticClass:"el-icon-star-on"}),t._v(" "),a("span",[t._v(t._s(t.formatNumber(e.row.videoLikes)))])]),t._v(" "),a("div",{staticClass:"stat-row"},[a("i",{staticClass:"el-icon-chat-dot-round"}),t._v(" "),a("span",[t._v(t._s(t.formatNumber(e.row.videoComments)))])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"ç›´æ’­æ•°æ®",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"live-stats"},[a("div",{staticClass:"stat-row"},[a("span",{staticClass:"stat-label"},[t._v("ç›´æ’­æ—¶é—´ï¼š")]),t._v(" "),a("span",[t._v(t._s(t.formatDate(e.row.liveTime)))])]),t._v(" "),a("div",{staticClass:"stat-row"},[a("span",{staticClass:"stat-label"},[t._v("GMVï¼š")]),t._v(" "),a("span",{staticClass:"highlight"},[t._v("Â¥"+t._s(t.formatNumber(e.row.liveGMV)))])]),t._v(" "),a("div",{staticClass:"stat-row"},[a("span",{staticClass:"stat-label"},[t._v("è®¢å•æ•°ï¼š")]),t._v(" "),a("span",[t._v(t._s(t.formatNumber(e.row.liveOrders)))])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"è¯„ä»·",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"evaluation"},[a("el-rate",{attrs:{disabled:"","show-score":""},model:{value:e.row.score,callback:function(a){t.$set(e.row,"score",a)},expression:"scope.row.score"}}),t._v(" "),e.row.remark?a("div",{staticClass:"remark"},[a("i",{staticClass:"el-icon-tickets"}),t._v("\n                    "+t._s(e.row.remark)+"\n                  ")]):t._e()],1)]}}])})],1)],1)])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"å¯¼å…¥è¾¾äººæ•°æ®",visible:t.importDialogVisible,width:"500px"},on:{"update:visible":function(e){t.importDialogVisible=e}}},[a("div",{staticClass:"import-dialog"},[a("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"#","auto-upload":!1,"on-change":t.handleFileChange,"file-list":t.fileList,accept:".xlsx,.xls"}},[a("i",{staticClass:"el-icon-upload"}),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v("å°†æ–‡ä»¶æ‹–åˆ°æ­¤å¤„ï¼Œæˆ–"),a("em",[t._v("ç‚¹å‡»ä¸Šä¼ ")])]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("åªèƒ½ä¸Šä¼  xlsx/xls æ–‡ä»¶")])])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.importDialogVisible=!1}}},[t._v("å–æ¶ˆ")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.importing},on:{click:t.importData}},[t._v("å¼€å§‹å¯¼å…¥")])],1)])],1)}),[],!1,null,"1a4e3556",null);e.default=_.exports},fae1:function(t,e,a){}}]);