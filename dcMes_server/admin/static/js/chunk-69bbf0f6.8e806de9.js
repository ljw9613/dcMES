(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-69bbf0f6"],{"08d5":function(e,t,a){"use strict";a.r(t);var r,s=(a("7f7f"),a("5530")),n=a("ade3"),c=a("3835"),o=(a("ffc1"),a("ac6a"),a("c5f6"),a("a481"),a("c7eb")),l=(a("96cf"),a("1da1")),i=a("7e1e"),u=a("b810"),d={name:"SaleOrder",data:function(){return{searchForm:{FBillNo:"",FCustId:"",FDocumentStatus:"",FCloseStatus:"",FSaleDeptId:"",FSalerId:"",dateRange:[]},tableList:[],total:0,currentPage:1,pageSize:10,listLoading:!0,showAdvanced:!1,dialogFormVisible:!1,dialogStatus:"",selection:[],dataForm:{FBillNo:"",FCustomerName:"",FDate:"",FTotalAmount:0,FSaleDeptName:"",FSalerName:"",FDocumentStatus:"DRAFT",FDeliveryMethod:""},rules:{FCustomerName:[{required:!0,message:"è¯·è¾“å…¥å®¢æˆ·åç§°",trigger:"blur"}],FDate:[{required:!0,message:"è¯·é€‰æ‹©è®¢å•æ—¥æœŸ",trigger:"change"}],FSaleDeptName:[{required:!0,message:"è¯·è¾“å…¥é”€å”®éƒ¨é—¨",trigger:"blur"}]},syncProgressTimer:null,syncDialogVisible:!1,syncForm:{syncType:"date",dateRange:[],documentStatus:"C",billNo:""}}},methods:(r={getStatusType:function(e){return{DRAFT:"info",APPROVED:"success",PROCESSING:"warning",REJECTED:"danger"}[e]||"info"},getStatusText:function(e){return{DRAFT:"è‰ç¨¿",APPROVED:"å·²å®¡æ ¸",PROCESSING:"å®¡æ ¸ä¸­",REJECTED:"å·²æ‹’ç»"}[e]||e},fetchData:function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.listLoading=!0,e.prev=1,(t=this.searchData()).page=this.currentPage,t.skip=(this.currentPage-1)*this.pageSize,t.limit=this.pageSize,t.sort={FNumber:1},t.count=!0,e.next=10,Object(i.b)("k3_SAL_SaleOrder",t);case 10:200===(a=e.sent).code?(this.tableList=a.data,console.log("111111111",a),console.log("222222222",this.tableList),this.total=a.countnum||a.data.length):this.$message.error(a.msg||"èŽ·å–æ•°æ®å¤±è´¥"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("èŽ·å–æ•°æ®å¤±è´¥:",e.t0),this.$message.error("èŽ·å–æ•°æ®å¤±è´¥: "+e.t0.message);case 18:return e.prev=18,this.listLoading=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[1,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),baseTableHandleCurrentChange:function(e){this.currentPage=e,this.fetchData()},baseTableHandleSizeChange:function(e){this.pageSize=e,this.fetchData()},toggleAdvanced:function(){this.showAdvanced=!this.showAdvanced},formatDate:function(e){return e?new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"æš‚æ— æ•°æ®"},formatNumber:function(e){return e||0===e?"Â¥"+Number(e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"Â¥0.00"},search:function(){this.currentPage=1,this.fetchData()},handleSelectionChange:function(e){this.selection=e},handleView:function(e){this.dataForm=JSON.parse(JSON.stringify(e)),this.dialogStatus="view",this.dialogFormVisible=!0},handleDelete:function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$confirm("ç¡®è®¤è¦åˆ é™¤è¯¥è®¢å•å—ï¼Ÿåˆ é™¤åŽä¸å¯æ¢å¤ï¼","è­¦å‘Š",{type:"warning",confirmButtonText:"ç¡®å®šåˆ é™¤",confirmButtonClass:"el-button--danger"});case 3:return e.next=5,Object(i.c)("k3_SAL_SaleOrder",t._id);case 5:this.$message.success("åˆ é™¤æˆåŠŸ"),this.fetchData(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),"cancel"===e.t0?this.$message.info("å·²å–æ¶ˆåˆ é™¤"):(console.error("åˆ é™¤å¤±è´¥:",e.t0),this.$message.error("åˆ é™¤å¤±è´¥"));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),handleSubmit:function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"edit"!==this.dialogStatus){e.next=7;break}return e.next=4,Object(i.d)("k3_SAL_SaleOrder",t._id,t);case 4:this.$message.success("æ›´æ–°æˆåŠŸ"),e.next=10;break;case 7:return e.next=9,Object(i.a)("k3_SAL_SaleOrder",t);case 9:this.$message.success("æ·»åŠ æˆåŠŸ");case 10:this.dialogFormVisible=!1,this.fetchData(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("æ“ä½œå¤±è´¥:",e.t0),this.$message.error("æ“ä½œå¤±è´¥");case 18:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),searchData:function(){var e={query:{$and:[]}};return Object.entries(this.searchForm).forEach((function(t){var a=Object(c.a)(t,2),r=a[0],s=a[1];if(s)switch(r){case"FBillNo":case"FCustId":case"FSaleDeptId":case"FSalerId":s.trim()&&e.query.$and.push(Object(n.a)({},r,{$regex:s.trim(),$options:"i"}));break;case"FDocumentStatus":case"FCloseStatus":e.query.$and.push(Object(n.a)({},r,s));break;case"dateRange":Array.isArray(s)&&2===s.length&&e.query.$and.push({FCreateDate:{$gte:s[0]+" 00:00:00",$lte:s[1]+" 23:59:59"}})}})),e.query.$and.length||delete e.query.$and,e},handleSubmitAudit:function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$confirm("ç¡®è®¤æäº¤æ­¤è®¢å•è¿›è¡Œå®¡æ ¸ï¼Ÿ","æç¤º",{type:"warning"});case 3:return a=Object(s.a)(Object(s.a)({},t),{},{FDocumentStatus:"PROCESSING",FModifyDate:new Date,FModifierId:this.$store.state.user.name}),e.next=6,Object(i.d)("k3_SAL_SaleOrder",t._id,a);case 6:this.$message.success("æäº¤å®¡æ ¸æˆåŠŸ"),this.fetchData(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("æäº¤å®¡æ ¸å¤±è´¥:",e.t0),this.$message.error("æäº¤å®¡æ ¸å¤±è´¥");case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),convertDocumentStatus:function(e){return{A:"DRAFT",B:"PROCESSING",C:"APPROVED",D:"REJECTED"}[e]||"DRAFT"},getDocumentTypeText:function(e){return{eacb50844fc84a10b03d7b841f3a6278:"æ ‡å‡†é”€å”®è®¢å•"}[e]||e},getMaterialPropertyText:function(e){return{C:"è‡ªåˆ¶",B:"å¤–è´­",A:"å§”å¤–"}[e]||e},resetForm:function(){this.$refs.searchForm.resetFields(),this.searchForm={FBillNo:"",FCustId:"",FDocumentStatus:"",FCloseStatus:"",FSaleDeptId:"",FSalerId:"",dateRange:[]},this.currentPage=1,this.fetchData()},handleEdit:function(e){var t=this;this.dialogStatus="edit",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs.dataForm.resetFields(),t.dataForm=Object.assign({},e)}))}},Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(r,"handleView",(function(e){var t=this;this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.dataForm=Object.assign({},e)}))})),"handleDelete",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$confirm("ç¡®è®¤è¦åˆ é™¤è¯¥è®¢å•å—ï¼Ÿ","è­¦å‘Š",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"});case 3:return e.next=5,Object(i.c)("k3_SAL_SaleOrder",{query:{_id:t._id}});case 5:this.$message.success("åˆ é™¤æˆåŠŸ"),this.fetchData(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),"cancel"!==e.t0&&(console.error("åˆ é™¤å¤±è´¥:",e.t0),this.$message.error("åˆ é™¤å¤±è´¥: "+e.t0.message));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),"handleSubmitAudit",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$confirm("ç¡®è®¤æäº¤æ­¤è®¢å•è¿›è¡Œå®¡æ ¸ï¼Ÿ","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"});case 3:return a=Object(s.a)(Object(s.a)({},t),{},{FDocumentStatus:"B",FModifyDate:new Date,FModifierId:this.$store.state.user.name}),e.next=6,Object(i.d)("k3_SAL_SaleOrder",t._id,a);case 6:this.$message.success("æäº¤å®¡æ ¸æˆåŠŸ"),this.fetchData(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),"cancel"!==e.t0&&(console.error("æäº¤å®¡æ ¸å¤±è´¥:",e.t0),this.$message.error("æäº¤å®¡æ ¸å¤±è´¥: "+e.t0.message));case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),"submitForm",(function(){var e=this;this.$refs.dataForm.validate(function(){var t=Object(l.a)(Object(o.a)().mark((function t(a){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=19;break}if(t.prev=1,"create"!==e.dialogStatus){t.next=8;break}return t.next=5,Object(i.a)("k3_SAL_SaleOrder",e.dataForm);case 5:e.$message.success("åˆ›å»ºæˆåŠŸ"),t.next=11;break;case 8:return t.next=10,Object(i.d)("k3_SAL_SaleOrder",e.dataForm._id,e.dataForm);case 10:e.$message.success("æ›´æ–°æˆåŠŸ");case 11:e.dialogFormVisible=!1,e.fetchData(),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),console.error("æ“ä½œå¤±è´¥:",t.t0),e.$message.error("æ“ä½œå¤±è´¥: "+t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}())})),"getMaterialPropertyTagType",(function(e){return{C:"primary",B:"success",A:"warning"}[e]||"info"})),"handleOneSync",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ðŸš€ ~ handleOneSync ~ row:",t),e.prev=1,a={FilterString:[]},e.next=5,this.$confirm("ç¡®è®¤æ›´æ–°".concat(t.FBillNo,"çš„æ•°æ®å—ï¼Ÿ"),"æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"});case 5:return a.FilterString=[{FieldName:"FID",Compare:"=",Value:t.FID,Left:"",Right:"",Logic:0}],e.next=8,Object(u.f)(a);case 8:200===(r=e.sent).code?(this.startSyncProgressCheck(),r.taskStatus?this.$message.success("åŒæ­¥ä¸­ï¼šå½“å‰".concat(r.taskStatus.processedRecords,"æ¡æ•°æ®åŒæ­¥å®Œæˆï¼Œè€—æ—¶").concat(r.taskStatus.elapsedTime,"ç§’")):this.$message.success("åŒæ­¥ä»»åŠ¡å·²å¯åŠ¨")):this.$message.error(r.message||"é”€å”®è®¢å•åŒæ­¥å¤±è´¥"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("é”€å”®è®¢å•åŒæ­¥å¤±è´¥:",e.t0),this.$message.error("é”€å”®è®¢å•åŒæ­¥å¤±è´¥");case 16:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()),"handleSync",(function(){this.syncDialogVisible=!0,this.syncForm={syncType:"date",dateRange:[],documentStatus:"C",billNo:""}})),"confirmSync",function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,a,r,s,n,l,i;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("date"!==this.syncForm.syncType||this.syncForm.dateRange&&2===this.syncForm.dateRange.length){e.next=3;break}return this.$message.warning("è¯·é€‰æ‹©å®¡æ ¸æ—¥æœŸèŒƒå›´"),e.abrupt("return");case 3:if("billNo"!==this.syncForm.syncType||this.syncForm.billNo){e.next=6;break}return this.$message.warning("è¯·è¾“å…¥é”€å”®å•å·"),e.abrupt("return");case 6:e.prev=6,t="",e.t0=this.syncForm.syncType,e.next="all"===e.t0?11:"date"===e.t0?13:"billNo"===e.t0?15:17;break;case 11:return t="ç¡®è®¤è¦åŒæ­¥æ‰€æœ‰é”€å”®è®¢å•æ•°æ®å—ï¼Ÿæ­¤æ“ä½œå¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´",e.abrupt("break",17);case 13:return t="ç¡®è®¤è¦åŒæ­¥é€‰å®šæ—¥æœŸèŒƒå›´çš„é”€å”®è®¢å•æ•°æ®å—ï¼Ÿæ­¤æ“ä½œå¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´",e.abrupt("break",17);case 15:return t="ç¡®è®¤è¦åŒæ­¥å•å·ä¸º ".concat(this.syncForm.billNo," çš„é”€å”®è®¢å•æ•°æ®å—ï¼Ÿ"),e.abrupt("break",17);case 17:return e.next=19,this.$confirm(t,"æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"});case 19:a=this.$loading({lock:!0,text:"æ­£åœ¨å¯åŠ¨åŒæ­¥ä»»åŠ¡...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),e.prev=20,r={FilterString:[]},e.t1=this.syncForm.syncType,e.next="date"===e.t1?25:"billNo"===e.t1?28:"all"===e.t1?30:32;break;case 25:return s=Object(c.a)(this.syncForm.dateRange,2),n=s[0],l=s[1],r.FilterString=[{FieldName:"FDocumentStatus",Compare:"StatusEqualto",Value:this.syncForm.documentStatus,Left:"",Right:"",Logic:0},{FieldName:"FApproveDate",Compare:">",Value:"".concat(n," 00:00:00"),Left:"",Right:"",Logic:0},{FieldName:"FApproveDate",Compare:"<",Value:"".concat(l," 23:59:59"),Left:"",Right:"",Logic:"0"}],e.abrupt("break",32);case 28:return r.FilterString=[{FieldName:"FBillNo",Compare:"=",Value:this.syncForm.billNo,Left:"",Right:"",Logic:0}],e.abrupt("break",32);case 30:return r.FilterString=[{FieldName:"FDocumentStatus",Compare:"StatusEqualto",Value:"C",Left:"",Right:"",Logic:0}],e.abrupt("break",32);case 32:return e.next=34,Object(u.f)(r);case 34:200===(i=e.sent).code?(this.syncDialogVisible=!1,a.close(),this.startSyncProgressCheck(),i.taskStatus?this.$message.success("é”€å”®è®¢å•åŒæ­¥ä¸­ï¼šå½“å‰".concat(i.taskStatus.processedRecords,"æ¡æ•°æ®åŒæ­¥å®Œæˆï¼Œè€—æ—¶").concat(i.taskStatus.elapsedTime,"ç§’")):this.$message.success("é”€å”®è®¢å•åŒæ­¥ä»»åŠ¡å·²å¯åŠ¨")):(a.close(),this.$message.error(i.message||"é”€å”®è®¢å•åŒæ­¥å¤±è´¥")),e.next=43;break;case 38:e.prev=38,e.t2=e.catch(20),a.close(),console.error("é”€å”®è®¢å•åŒæ­¥å¤±è´¥:",e.t2),this.$message.error("é”€å”®è®¢å•åŒæ­¥å¤±è´¥: "+e.t2.message);case 43:e.next=48;break;case 45:e.prev=45,e.t3=e.catch(6),"cancel"!==e.t3&&(console.error("é”€å”®è®¢å•åŒæ­¥å¤±è´¥:",e.t3),this.$message.error("é”€å”®è®¢å•åŒæ­¥å¤±è´¥"));case 48:case"end":return e.stop()}}),e,this,[[6,45],[20,38]])})));return function(){return e.apply(this,arguments)}}()),"startSyncProgressCheck",(function(){var e=this;this.syncProgressTimer&&clearInterval(this.syncProgressTimer),this.syncProgressTimer=setInterval(Object(l.a)(Object(o.a)().mark((function t(){var a,r;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u.a)("k3_SAL_SaleOrder");case 3:if(200!==(a=t.sent).code){t.next=26;break}if(!(r=a.taskStatus)){t.next=24;break}t.t0=r.status,t.next="running"===t.t0?10:"no_task"===t.t0?12:"completed"===t.t0?16:20;break;case 10:return e.$notify({type:"info",message:"é”€å”®è®¢å•åŒæ­¥ä¸­ï¼šå½“å‰".concat(r.processedRecords,"æ¡æ•°æ®åŒæ­¥å®Œæˆï¼Œè€—æ—¶").concat(r.elapsedTime,"ç§’"),duration:5e3}),t.abrupt("break",22);case 12:case 16:return e.$message.success("é”€å”®è®¢å•åŒæ­¥å®Œæˆï¼"),e.stopSyncProgressCheck(),e.fetchData(),t.abrupt("break",22);case 20:e.$message.warning("æœªçŸ¥çš„åŒæ­¥çŠ¶æ€"),e.stopSyncProgressCheck();case 22:t.next=26;break;case 24:e.$message.warning("æœªæ‰¾åˆ°é”€å”®è®¢å•åŒæ­¥ä»»åŠ¡"),e.stopSyncProgressCheck();case 26:t.next=33;break;case 28:t.prev=28,t.t1=t.catch(0),console.error("æŸ¥è¯¢é”€å”®è®¢å•åŒæ­¥è¿›åº¦å¤±è´¥:",t.t1),e.$message.error("æŸ¥è¯¢é”€å”®è®¢å•åŒæ­¥è¿›åº¦å¤±è´¥"),e.stopSyncProgressCheck();case 33:case"end":return t.stop()}}),t,null,[[0,28]])}))),5e3)})),"stopSyncProgressCheck",(function(){this.syncProgressTimer&&(clearInterval(this.syncProgressTimer),this.syncProgressTimer=null)})),Object(n.a)(r,"beforeDestroy",(function(){this.stopSyncProgressCheck()}))),created:function(){this.fetchData()}},h=d,m=(a("8750"),a("2877")),p=Object(m.a)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"filter-container"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("ç­›é€‰æœç´¢")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.toggleAdvanced}},[e._v("\n                "+e._s(e.showAdvanced?"æ”¶èµ·":"å±•å¼€")+"é«˜çº§æœç´¢\n            ")])],1),e._v(" "),a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{model:e.searchForm}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"è®¢å•ç¼–å·"}},[a("el-input",{attrs:{placeholder:"è¯·è¾“å…¥è®¢å•ç¼–å·",clearable:""},model:{value:e.searchForm.FBillNo,callback:function(t){e.$set(e.searchForm,"FBillNo",t)},expression:"searchForm.FBillNo"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"å®¢æˆ·ç¼–å·"}},[a("el-input",{attrs:{placeholder:"è¯·è¾“å…¥å®¢æˆ·ç¼–å·",clearable:""},model:{value:e.searchForm.FCustId,callback:function(t){e.$set(e.searchForm,"FCustId",t)},expression:"searchForm.FCustId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"å•æ®çŠ¶æ€"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"è¯·é€‰æ‹©å•æ®çŠ¶æ€",clearable:""},model:{value:e.searchForm.FDocumentStatus,callback:function(t){e.$set(e.searchForm,"FDocumentStatus",t)},expression:"searchForm.FDocumentStatus"}},[a("el-option",{attrs:{label:"è‰ç¨¿",value:"A"}}),e._v(" "),a("el-option",{attrs:{label:"å®¡æ ¸ä¸­",value:"B"}}),e._v(" "),a("el-option",{attrs:{label:"å·²å®¡æ ¸",value:"C"}}),e._v(" "),a("el-option",{attrs:{label:"é‡æ–°å®¡æ ¸",value:"D"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"ä¸šåŠ¡çŠ¶æ€"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"è¯·é€‰æ‹©ä¸šåŠ¡çŠ¶æ€",clearable:""},model:{value:e.searchForm.FCloseStatus,callback:function(t){e.$set(e.searchForm,"FCloseStatus",t)},expression:"searchForm.FCloseStatus"}},[a("el-option",{attrs:{label:"æœªå…³é—­",value:"A"}}),e._v(" "),a("el-option",{attrs:{label:"å·²å…³é—­",value:"B"}})],1)],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showAdvanced,expression:"showAdvanced"}]},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"é”€å”®éƒ¨é—¨"}},[a("el-input",{attrs:{placeholder:"è¯·è¾“å…¥é”€å”®éƒ¨é—¨ç¼–å·",clearable:""},model:{value:e.searchForm.FSaleDeptId,callback:function(t){e.$set(e.searchForm,"FSaleDeptId",t)},expression:"searchForm.FSaleDeptId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"é”€å”®å‘˜"}},[a("el-input",{attrs:{placeholder:"è¯·è¾“å…¥é”€å”®å‘˜ç¼–å·",clearable:""},model:{value:e.searchForm.FSalerId,callback:function(t){e.$set(e.searchForm,"FSalerId",t)},expression:"searchForm.FSalerId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"åˆ›å»ºæ—¥æœŸ"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"è‡³","start-placeholder":"å¼€å§‹æ—¥æœŸ","end-placeholder":"ç»“æŸæ—¥æœŸ","value-format":"yyyy-MM-dd"},model:{value:e.searchForm.dateRange,callback:function(t){e.$set(e.searchForm,"dateRange",t)},expression:"searchForm.dateRange"}})],1)],1)],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("æŸ¥è¯¢æœç´¢")]),e._v(" "),a("el-button",{on:{click:e.resetForm}},[e._v("é‡ç½®")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.handleSync}},[e._v("åŒæ­¥è®¢å•")])],1)],1)],1),e._v(" "),e._m(0),e._v(" "),a("base-table",{ref:"baseTable",attrs:{currentPage:e.currentPage,"highlight-current-row":!0,pageSize:e.pageSize,tableData:e.tableList,tableDataloading:e.listLoading,total:e.total,"cell-style":{textAlign:"center"}},on:{"selection-change":e.handleSelectionChange,handleCurrentChange:e.baseTableHandleCurrentChange,handleSizeChange:e.baseTableHandleSizeChange}},[a("template",{slot:"law"},[a("el-table-column",{attrs:{label:"é”€å”®å•å·",prop:"FBillNo"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.handleView(t.row)}}},[e._v(e._s(t.row.FBillNo))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"å•æ®ç±»åž‹",prop:"FBillTypeID",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.getDocumentTypeText(t.row.FBillTypeID))+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"å®¢æˆ·",prop:"FCustId",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{content:t.row.FSettleAddress,placement:"top"}},[a("span",[e._v(e._s(t.row.FSettleId||"-"))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"å•æ®çŠ¶æ€",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e.getStatusType(t.row.FDocumentStatus)}},[e._v("\n                        "+e._s(e.getStatusText(t.row.FDocumentStatus))+"\n                    ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"ä¿®æ”¹æ—¥æœŸ",prop:"FModifyDate",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.formatDate(t.row.FModifyDate))+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"é”€å”®éƒ¨é—¨",prop:"FSaleDeptId",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.FSaleDeptId||"-")+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"é”€å”®å‘˜",prop:"FSalerId",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.FSalerId||"-")+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"åˆ›å»ºæ—¥æœŸ",prop:"FCreateDate",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.formatDate(t.row.FCreateDate))+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"ä¸šåŠ¡å…³é—­",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"A"===t.row.FCloseStatus?"success":"danger"}},[e._v("\n                        "+e._s("A"===t.row.FCloseStatus?"æœªå…³é—­":"å·²å…³é—­")+"\n                    ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"ç‰©æ–™å±žæ€§",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"mini",type:e.getMaterialPropertyTagType(t.row.FDocumentStatus)}},[e._v("\n                        "+e._s(e.getMaterialPropertyText(t.row.FDocumentStatus))+"\n                    ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"è¶Šå—ä¸è°ƒæ‹¨",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"mini",type:"B"===t.row.FCancelStatus?"danger":"success"}},[e._v("\n                        "+e._s("B"===t.row.FCancelStatus?"æ˜¯":"å¦")+"\n                    ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"æ“ä½œ",fixed:"right",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleOneSync(t.row)}}},[e._v("åŒæ­¥")])]}}])})],1)],2),e._v(" "),a("el-dialog",{attrs:{title:"åŒæ­¥é”€å”®è®¢å•",visible:e.syncDialogVisible,width:"500px"},on:{"update:visible":function(t){e.syncDialogVisible=t}}},[a("el-form",{ref:"syncForm",attrs:{model:e.syncForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"åŒæ­¥æ–¹å¼"}},[a("el-radio-group",{model:{value:e.syncForm.syncType,callback:function(t){e.$set(e.syncForm,"syncType",t)},expression:"syncForm.syncType"}},[a("el-radio",{attrs:{label:"date"}},[e._v("æŒ‰æ—¥æœŸåŒæ­¥")]),e._v(" "),a("el-radio",{attrs:{label:"billNo"}},[e._v("æŒ‰å•å·åŒæ­¥")]),e._v(" "),a("el-radio",{attrs:{label:"all"}},[e._v("åŒæ­¥å…¨éƒ¨")])],1)],1),e._v(" "),"date"===e.syncForm.syncType?a("el-form-item",{attrs:{label:"å®¡æ ¸æ—¥æœŸ",required:""}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"è‡³","start-placeholder":"å¼€å§‹æ—¥æœŸ","end-placeholder":"ç»“æŸæ—¥æœŸ","value-format":"yyyy-MM-dd"},model:{value:e.syncForm.dateRange,callback:function(t){e.$set(e.syncForm,"dateRange",t)},expression:"syncForm.dateRange"}})],1):e._e(),e._v(" "),"billNo"===e.syncForm.syncType?a("el-form-item",{attrs:{label:"é”€å”®å•å·",required:""}},[a("el-input",{attrs:{placeholder:"è¯·è¾“å…¥é”€å”®å•å·"},model:{value:e.syncForm.billNo,callback:function(t){e.$set(e.syncForm,"billNo",t)},expression:"syncForm.billNo"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"å•æ®çŠ¶æ€"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"all"===e.syncForm.syncType,placeholder:"è¯·é€‰æ‹©å•æ®çŠ¶æ€"},model:{value:e.syncForm.documentStatus,callback:function(t){e.$set(e.syncForm,"documentStatus",t)},expression:"syncForm.documentStatus"}},[a("el-option",{attrs:{label:"å·²å®¡æ ¸",value:"C"}}),e._v(" "),a("el-option",{attrs:{label:"å®¡æ ¸ä¸­",value:"B"}}),e._v(" "),a("el-option",{attrs:{label:"è‰ç¨¿",value:"A"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.syncDialogVisible=!1}}},[e._v("å– æ¶ˆ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmSync}},[e._v("ç¡® å®š")])],1)],1)],1)}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"screen1"},[a("div",{staticClass:"screen_content"},[a("div",{staticClass:"screen_content_first"},[a("i",{staticClass:"el-icon-tickets"},[e._v("é”€å”®è®¢å•åˆ—è¡¨")])])])])}],!1,null,"a98b1bfa",null);t.default=p.exports},3835:function(e,t,a){"use strict";var r=a("06c5");function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,s,n,c,o=[],l=!0,i=!1;try{if(n=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;l=!1}else for(;!(l=(r=n.call(a)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){i=!0,s=e}finally{try{if(!l&&null!=a.return&&(c=a.return(),Object(c)!==c))return}finally{if(i)throw s}}return o}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return s}))},8750:function(e,t,a){"use strict";a("d2db")},d2db:function(e,t,a){}}]);