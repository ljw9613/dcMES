(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0d61a1"],{"70b4":function(e,t,r){"use strict";r.r(t);var a=r("7e1e"),o={name:"TaskForm",props:{visible:{type:Boolean,default:!1},taskId:{type:String,default:""}},data:function(){return{title:"",loading:!1,isAdmin:!1,fansTypeOptions:[{value:"粉丝",label:"粉丝"},{value:"达人",label:"达人"}],taskTypeOptions:[{value:"品牌宣传",label:"品牌宣传"},{value:"达人推广",label:"达人推广"},{value:"达人直播",label:"达人直播"},{value:"达人视频",label:"达人视频"},{value:"直播带货",label:"直播带货"}],platformOptions:[{value:"抖音",label:"抖音"},{value:"小红书",label:"小红书"},{value:"B站",label:"B站"},{value:"微博",label:"微博"}],contentTypeOptions:[{value:"短视频",label:"短视频"},{value:"直播",label:"直播"},{value:"图文",label:"图文"}],paymentMethodOptions:[{value:"预付款",label:"预付款"},{value:"尾款",label:"尾款"}],form:{title:"",type:"",description:"",startTime:null,endTime:null,cooperationDetails:{brandName:"",brandIndustry:"",productName:"",productCategory:"",productDetails:"",requirements:{platformType:[],contentType:[],contentRequirements:"",expertRequirements:{fansCountMin:0,fansCountMax:0,fansType:[],expertStyle:[],expertCategory:[],location:[],otherRequirements:""}},commercialTerms:{budget:0,paymentMethod:"",paymentTerms:"",commissionRate:0,exclusivityPeriod:0},kpiTargets:{viewsTarget:0,interactionTarget:0,salesTarget:0,otherTargets:[]}}},rules:{title:[{required:!0,message:"请输入任务标题",trigger:"blur"}],type:[{required:!0,message:"请选择任务类型",trigger:"change"}],description:[{required:!0,message:"请输入任务描述",trigger:"blur"}],"cooperationDetails.brandName":[{required:!0,message:"请输入品牌名称",trigger:"blur"}],"cooperationDetails.brandIndustry":[{required:!0,message:"请输入品牌所属行业",trigger:"blur"}],"cooperationDetails.productName":[{required:!0,message:"请输入产品名称",trigger:"blur"}],"cooperationDetails.productCategory":[{required:!0,message:"请输入产品品类",trigger:"blur"}],"cooperationDetails.productDetails":[{required:!0,message:"请输入产品详情描述",trigger:"blur"}],"cooperationDetails.requirements.platformType":[{required:!0,message:"请选择合作平台",trigger:"change"}],"cooperationDetails.requirements.contentType":[{required:!0,message:"请选择内容形式",trigger:"change"}],"cooperationDetails.requirements.contentRequirements":[{required:!0,message:"请输入内容要求",trigger:"blur"}],"cooperationDetails.requirements.expertRequirements.fansCountMin":[{required:!0,message:"请输入最低粉丝数",trigger:"blur"}],"cooperationDetails.requirements.expertRequirements.fansCountMax":[{required:!0,message:"请输入最高粉丝数",trigger:"blur"}],"cooperationDetails.requirements.expertRequirements.fansType":[{required:!0,message:"请选择粉丝类型",trigger:"change"}],"cooperationDetails.commercialTerms.budget":[{required:!0,message:"请输入项目预算",trigger:"blur"}],"cooperationDetails.commercialTerms.paymentMethod":[{required:!0,message:"请选择支付方式",trigger:"change"}],"cooperationDetails.kpiTargets.viewsTarget":[{required:!0,message:"请输入播放量目标",trigger:"blur"}],"cooperationDetails.kpiTargets.interactionTarget":[{required:!0,message:"请输入互动量目标",trigger:"blur"}],"cooperationDetails.kpiTargets.salesTarget":[{required:!0,message:"请输入销售目标",trigger:"blur"}]}}},methods:{handleClose:function(){this.$emit("update:visible",!1)},handleSubmit:function(){var e=this;this.$refs.taskForm.validate((function(t){t?(e.loading=!0,e.taskId?Object(a.d)(e.taskId,e.form).then((function(t){e.$message.success("任务更新成功"),e.handleClose()})).catch((function(t){e.$message.error("任务更新失败"),e.loading=!1})):Object(a.a)("task",e.form).then((function(t){e.$message.success("任务添加成功"),e.handleClose()})).catch((function(t){e.$message.error("任务添加失败"),e.loading=!1}))):(e.$message.error("请填写完整任务信息"),e.loading=!1)}))}}},l=o,i=r("2877"),s=Object(i.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,visible:e.visible,width:"70%"},on:{"update:visible":function(t){e.visible=t},close:e.handleClose}},[r("el-form",{ref:"taskForm",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[r("el-divider",[e._v("基本信息")]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"任务标题",prop:"title"}},[r("el-input",{attrs:{placeholder:"请输入任务标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"任务类型",prop:"type"}},[r("el-select",{attrs:{placeholder:"请选择任务类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.taskTypeOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"任务描述",prop:"description"}},[r("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入任务描述"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"开始时间",prop:"startTime"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始时间"},model:{value:e.form.startTime,callback:function(t){e.$set(e.form,"startTime",t)},expression:"form.startTime"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"结束时间",prop:"endTime"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择结束时间"},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1)],1)],1),e._v(" "),r("el-divider",[e._v("品牌信息")]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"品牌名称",prop:"cooperationDetails.brandName"}},[r("el-input",{attrs:{placeholder:"请输入品牌名称"},model:{value:e.form.cooperationDetails.brandName,callback:function(t){e.$set(e.form.cooperationDetails,"brandName",t)},expression:"form.cooperationDetails.brandName"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"产品名称",prop:"cooperationDetails.productName"}},[r("el-input",{attrs:{placeholder:"请输入产品名称"},model:{value:e.form.cooperationDetails.productName,callback:function(t){e.$set(e.form.cooperationDetails,"productName",t)},expression:"form.cooperationDetails.productName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"产品品类",prop:"cooperationDetails.productCategory"}},[r("el-input",{attrs:{placeholder:"请输入产品品类"},model:{value:e.form.cooperationDetails.productCategory,callback:function(t){e.$set(e.form.cooperationDetails,"productCategory",t)},expression:"form.cooperationDetails.productCategory"}})],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品详情",prop:"cooperationDetails.productDetails"}},[r("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入产品详情描述"},model:{value:e.form.cooperationDetails.productDetails,callback:function(t){e.$set(e.form.cooperationDetails,"productDetails",t)},expression:"form.cooperationDetails.productDetails"}})],1),e._v(" "),r("el-divider",[e._v("合作要求")]),e._v(" "),r("el-form-item",{attrs:{label:"合作平台",prop:"cooperationDetails.requirements.platformType"}},[r("el-select",{attrs:{multiple:"",placeholder:"请选择合作平台"},model:{value:e.form.cooperationDetails.requirements.platformType,callback:function(t){e.$set(e.form.cooperationDetails.requirements,"platformType",t)},expression:"form.cooperationDetails.requirements.platformType"}},e._l(e.platformOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"内容形式",prop:"cooperationDetails.requirements.contentType"}},[r("el-select",{attrs:{multiple:"",placeholder:"请选择内容形式"},model:{value:e.form.cooperationDetails.requirements.contentType,callback:function(t){e.$set(e.form.cooperationDetails.requirements,"contentType",t)},expression:"form.cooperationDetails.requirements.contentType"}},e._l(e.contentTypeOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"内容要求",prop:"cooperationDetails.requirements.contentRequirements"}},[r("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容要求"},model:{value:e.form.cooperationDetails.requirements.contentRequirements,callback:function(t){e.$set(e.form.cooperationDetails.requirements,"contentRequirements",t)},expression:"form.cooperationDetails.requirements.contentRequirements"}})],1),e._v(" "),r("el-divider",[e._v("达人要求")]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"粉丝数要求",prop:"cooperationDetails.requirements.expertRequirements.fansCountMin"}},[r("el-input-number",{attrs:{min:0,step:1e4,placeholder:"请输入最低粉丝数"},model:{value:e.form.cooperationDetails.requirements.expertRequirements.fansCountMin,callback:function(t){e.$set(e.form.cooperationDetails.requirements.expertRequirements,"fansCountMin",t)},expression:"form.cooperationDetails.requirements.expertRequirements.fansCountMin"}}),e._v(" "),r("span",{staticStyle:{"margin-left":"10px"}},[e._v("-")]),e._v(" "),r("el-input-number",{attrs:{min:0,step:1e4,placeholder:"请输入最高粉丝数"},model:{value:e.form.cooperationDetails.requirements.expertRequirements.fansCountMax,callback:function(t){e.$set(e.form.cooperationDetails.requirements.expertRequirements,"fansCountMax",t)},expression:"form.cooperationDetails.requirements.expertRequirements.fansCountMax"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"粉丝类型",prop:"cooperationDetails.requirements.expertRequirements.fansType"}},[r("el-select",{attrs:{multiple:"",placeholder:"请选择粉丝类型"},model:{value:e.form.cooperationDetails.requirements.expertRequirements.fansType,callback:function(t){e.$set(e.form.cooperationDetails.requirements.expertRequirements,"fansType",t)},expression:"form.cooperationDetails.requirements.expertRequirements.fansType"}},e._l(e.fansTypeOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),r("el-divider",[e._v("商务条款")]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"项目预算",prop:"cooperationDetails.commercialTerms.budget"}},[r("el-input-number",{attrs:{min:0,step:1e3,placeholder:"请输入项目预算"},model:{value:e.form.cooperationDetails.commercialTerms.budget,callback:function(t){e.$set(e.form.cooperationDetails.commercialTerms,"budget",t)},expression:"form.cooperationDetails.commercialTerms.budget"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"支付方式",prop:"cooperationDetails.commercialTerms.paymentMethod"}},[r("el-select",{attrs:{placeholder:"请选择支付方式"},model:{value:e.form.cooperationDetails.commercialTerms.paymentMethod,callback:function(t){e.$set(e.form.cooperationDetails.commercialTerms,"paymentMethod",t)},expression:"form.cooperationDetails.commercialTerms.paymentMethod"}},e._l(e.paymentMethodOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),r("el-divider",[e._v("KPI目标")]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"播放量目标",prop:"cooperationDetails.kpiTargets.viewsTarget"}},[r("el-input-number",{attrs:{min:0,step:1e3},model:{value:e.form.cooperationDetails.kpiTargets.viewsTarget,callback:function(t){e.$set(e.form.cooperationDetails.kpiTargets,"viewsTarget",t)},expression:"form.cooperationDetails.kpiTargets.viewsTarget"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"互动量目标",prop:"cooperationDetails.kpiTargets.interactionTarget"}},[r("el-input-number",{attrs:{min:0,step:100},model:{value:e.form.cooperationDetails.kpiTargets.interactionTarget,callback:function(t){e.$set(e.form.cooperationDetails.kpiTargets,"interactionTarget",t)},expression:"form.cooperationDetails.kpiTargets.interactionTarget"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"销售目标",prop:"cooperationDetails.kpiTargets.salesTarget"}},[r("el-input-number",{attrs:{min:0,step:100},model:{value:e.form.cooperationDetails.kpiTargets.salesTarget,callback:function(t){e.$set(e.form.cooperationDetails.kpiTargets,"salesTarget",t)},expression:"form.cooperationDetails.kpiTargets.salesTarget"}})],1)],1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v("确 定")])],1)],1)}),[],!1,null,null,null);t.default=s.exports}}]);