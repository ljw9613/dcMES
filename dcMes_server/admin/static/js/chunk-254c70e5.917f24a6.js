(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-254c70e5"],{"60a1":function(t,e,a){},cbb3:function(t,e,a){"use strict";a("60a1")},e6e2:function(t,e,a){"use strict";a.r(e);var r=a("5530"),i=a("c7eb"),o=(a("96cf"),a("1da1")),n=a("7e1e"),c=a("32db"),s=a("dacb"),l={filters:{},components:{UploadList:c.a,WangEditor:s.a},data:function(){return{activeName:"english",tableList:[],total:0,currentPage:1,pageSize:10,productName:"",listLoading:!0,dialogStatus:"",dialogFormVisible:!1,dataForm:{productName:"",introduction:"",productName_en:"",category:"",hot:!1,introduction_en:"",productImages:[],applicationArea:"",applicationArea_en:"",featureAttributes:"",featureAttributes_en:"",productEffect:"",productEffect_en:"",applicationBenefits:"",applicationBenefits_en:"",applicationObjects:"",applicationObjects_en:"",technicalParameters:[],productVideo:"",createDate:new Date,updateDate:new Date},imageUrl:"",categoryOptions:[]}},created:function(){this.initcategoryOptions(),this.fetchData()},beforeCreate:function(){},methods:{initcategoryOptions:function(){var t=Object(o.a)(Object(i.a)().mark((function t(){var e;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(n.b)("productCate",{});case 2:e=t.sent,this.categoryOptions=e.data;case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),addImage:function(){""!==this.imageUrl.trim()?(this.dataForm.productImages.push({url:this.imageUrl.trim()}),this.imageUrl=""):this.$message.error("请输入图片地址")},removeImage:function(t){this.dataForm.productImages.splice(t,1)},baseTableHandleCurrentChange:function(t){this.currentPage=t,this.fetchData()},baseTableHandleSizeChange:function(t){this.pageSize=t,this.fetchData()},closeDialog:function(){this.dialogFormVisible=!1,this.clearForm()},clearForm:function(){this.dataForm={productName:"",introduction:"",productName_en:"",category:"",hot:!1,introduction_en:"",productImages:[],applicationArea:"",applicationArea_en:"",featureAttributes:"",featureAttributes_en:"",productEffect:"",productEffect_en:"",applicationBenefits:"",applicationBenefits_en:"",applicationObjects:"",applicationObjects_en:"",technicalParameters:[],productVideo:"",createDate:new Date,updateDate:new Date}},fetchData:function(){var t=Object(o.a)(Object(i.a)().mark((function t(){var e,a;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.listLoading=!0,e={query:{productName:{$regex:this.productName}},limit:this.pageSize,skip:(this.currentPage-1)*this.pageSize,count:!0},t.next=4,Object(n.b)("companyProduct",e);case 4:a=t.sent,this.tableList=a.data,this.total=a.countnum,this.listLoading=!1;case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),beforeClose:function(){var t=this;this.$confirm("确认关闭？").then((function(e){t.dialogFormVisible=!1,done()})).catch((function(t){}))},handleEdit:function(t){this.dialogFormVisible=!0,this.dialogStatus="edit",this.dataForm=Object(r.a)({},t)},handleDelete:function(t){var e=this;this.$confirm("删除产品",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(Object(o.a)(Object(i.a)().mark((function a(){var r;return Object(i.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r={query:{_id:t._id}},Object(n.c)("companyProduct",r).then(function(){var t=Object(o.a)(Object(i.a)().mark((function t(a){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:200==a.code?(e.fetchData(),e.$notify({title:"删除成功",message:"删除成功",type:"success",duration:2e3})):e.$notify({title:"删除失败",message:"删除失败",type:"warning",duration:2e3});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return a.stop()}}),a)}))))},addProduct:function(){this.dataForm={productName:"",introduction:"",productName_en:"",category:"",hot:!1,introduction_en:"",productImages:[],applicationArea:"",applicationArea_en:"",featureAttributes:"",featureAttributes_en:"",productEffect:"",productEffect_en:"",applicationBenefits:"",applicationBenefits_en:"",applicationObjects:"",applicationObjects_en:"",technicalParameters:[],createDate:new Date,updateDate:new Date},this.dialogFormVisible=!0,this.dialogStatus="create"},createProduct:function(){var t=Object(o.a)(Object(i.a)().mark((function t(){var e;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(""!==this.dataForm.productName&&""!==this.dataForm.category&&""!==this.dataForm.introduction&&this.dataForm.productImages.length>0&&""!==this.dataForm.applicationArea&&""!==this.dataForm.featureAttributes&&""!==this.dataForm.productEffect&&""!==this.dataForm.applicationBenefits&&""!==this.dataForm.applicationObjects&&this.dataForm.technicalParameters.length>0)){t.next=8;break}return e=Object(r.a)({},this.dataForm),t.next=4,Object(n.a)("companyProduct",e);case 4:200===t.sent.code?(this.dialogFormVisible=!1,this.fetchData(),this.$notify({title:"添加成功",message:"添加成功",type:"success",duration:2e3})):this.$notify({title:"添加失败",message:"添加失败，请重试",type:"error",duration:2e3}),t.next=9;break;case 8:this.$notify({title:"请填写必要信息",message:"产品名称、介绍等不能为空",type:"warning",duration:2e3});case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),editProduct:function(){var t=Object(o.a)(Object(i.a)().mark((function t(){var e;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(""!==this.dataForm.productName&&""!==this.dataForm.category&&""!==this.dataForm.introduction&&this.dataForm.productImages.length>0&&""!==this.dataForm.applicationArea&&""!==this.dataForm.featureAttributes&&""!==this.dataForm.productEffect&&""!==this.dataForm.applicationBenefits&&""!==this.dataForm.applicationObjects&&this.dataForm.technicalParameters.length>0)){t.next=8;break}return e={query:{_id:this.dataForm._id},update:Object(r.a)({},this.dataForm)},t.next=4,Object(n.d)("companyProduct",e);case 4:200===t.sent.code?(this.dialogFormVisible=!1,this.fetchData(),this.$notify({title:"修改成功",message:"修改成功",type:"success",duration:2e3})):this.$notify({title:"修改失败",message:"修改失败，请重试",type:"error",duration:2e3}),t.next=9;break;case 8:this.$notify({title:"请填写必要信息",message:"产品名称、介绍等不能为空",type:"warning",duration:2e3});case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),search:function(){this.fetchData()}}},u=l,d=(a("cbb3"),a("2877")),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"screen"},[a("div",{staticClass:"screen_content"},[t._m(0),t._v(" "),a("div",{staticClass:"screen_content_second"},[a("div",{staticClass:"screen_content_second_one"},[a("div",{staticStyle:{width:"100px"}},[t._v("产品名称:")]),t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入产品名称"},model:{value:t.productName,callback:function(e){t.productName=e},expression:"productName"}}),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.search()}}},[t._v("查询搜索")])],1)])])]),t._v(" "),a("div",{staticClass:"screen1"},[a("div",{staticClass:"screen_content"},[a("div",{staticClass:"screen_content_first"},[a("i",{staticClass:"el-icon-tickets"},[t._v("产品列表")]),t._v(" "),a("el-button",{staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:t.addProduct}},[t._v("添加产品")])],1)])]),t._v(" "),a("div",{staticClass:"filter-container"}),t._v(" "),a("base-table",{ref:"baseTable",attrs:{currentPage:t.currentPage,"highlight-current-row":!0,pageSize:t.pageSize,tableData:t.tableList,tableDataloading:t.listLoading,total:t.total},on:{handleCurrentChange:t.baseTableHandleCurrentChange,handleSizeChange:t.baseTableHandleSizeChange}},[a("template",{slot:"law"},[a("el-table-column",{attrs:{label:"产品名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"link-type"},[t._v(t._s(e.row.productName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"产品分类",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.category))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否首页展示",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",[t._v(t._s(e.row.hot?"首页展示":"无"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"产品图片列表",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.productImages.length>0?a("el-image",{staticStyle:{"max-width":"100px","max-height":"100px"},attrs:{src:e.row.productImages[0]}}):a("span",[t._v("暂无图片")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.handleEdit(r)}}},[t._v("编辑查看")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.handleDelete(r)}}},[t._v("删除")])]}}])})],1)],2),t._v(" "),a("el-dialog",{attrs:{"before-close":t.beforeClose,visible:t.dialogFormVisible,title:"产品信息"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"100%"},attrs:{model:t.dataForm,"label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{required:"",label:"产品名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"产品名称"},model:{value:t.dataForm.productName,callback:function(e){t.$set(t.dataForm,"productName",e)},expression:"dataForm.productName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"产品分类"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.dataForm.category,callback:function(e){t.$set(t.dataForm,"category",e)},expression:"dataForm.category"}},t._l(t.categoryOptions,(function(t){return a("el-option",{key:t._id,attrs:{label:t.title,value:t.title}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"是否热门显示"}},[a("el-switch",{model:{value:t.dataForm.hot,callback:function(e){t.$set(t.dataForm,"hot",e)},expression:"dataForm.hot"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"产品图片列表"}},[a("ZrFile",{attrs:{max:5,value:t.dataForm.productImages},on:{"update:value":function(e){return t.$set(t.dataForm,"productImages",e)}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"应用领域"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"应用领域"},model:{value:t.dataForm.applicationArea,callback:function(e){t.$set(t.dataForm,"applicationArea",e)},expression:"dataForm.applicationArea"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"功能属性"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"功能属性"},model:{value:t.dataForm.featureAttributes,callback:function(e){t.$set(t.dataForm,"featureAttributes",e)},expression:"dataForm.featureAttributes"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"产品作用"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"产品作用"},model:{value:t.dataForm.productEffect,callback:function(e){t.$set(t.dataForm,"productEffect",e)},expression:"dataForm.productEffect"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"应用效益"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"应用效益"},model:{value:t.dataForm.applicationBenefits,callback:function(e){t.$set(t.dataForm,"applicationBenefits",e)},expression:"dataForm.applicationBenefits"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"应用对象"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"应用对象"},model:{value:t.dataForm.applicationObjects,callback:function(e){t.$set(t.dataForm,"applicationObjects",e)},expression:"dataForm.applicationObjects"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"技术参数"}},[a("ZrFile",{attrs:{max:5,value:t.dataForm.technicalParameters},on:{"update:value":function(e){return t.$set(t.dataForm,"technicalParameters",e)}}})],1)],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v("产品介绍")]),t._v(" "),a("WangEditor",{attrs:{value:t.dataForm.introduction},on:{"update:value":function(e){return t.$set(t.dataForm,"introduction",e)}}}),t._v(" "),a("el-collapse",{attrs:{accordion:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-collapse-item",{attrs:{title:"英文部分（English）",name:"english","collapse-transition":!1}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产品名称（Name）",prop:"productName"}},[a("el-input",{attrs:{placeholder:"Product Name"},model:{value:t.dataForm.productName_en,callback:function(e){t.$set(t.dataForm,"productName_en",e)},expression:"dataForm.productName_en"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"应用领域（Fields）"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Fields of Application"},model:{value:t.dataForm.applicationArea_en,callback:function(e){t.$set(t.dataForm,"applicationArea_en",e)},expression:"dataForm.applicationArea_en"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"应用对象（Objects）"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Objects of application"},model:{value:t.dataForm.applicationObjects_en,callback:function(e){t.$set(t.dataForm,"applicationObjects_en",e)},expression:"dataForm.applicationObjects_en"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"功能属性（Functional）"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Functional Attributes"},model:{value:t.dataForm.featureAttributes_en,callback:function(e){t.$set(t.dataForm,"featureAttributes_en",e)},expression:"dataForm.featureAttributes_en"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产品作用（Benefits）"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Benefits"},model:{value:t.dataForm.productEffect_en,callback:function(e){t.$set(t.dataForm,"productEffect_en",e)},expression:"dataForm.productEffect_en"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"应用效益（Application Benefits）"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Application Benefits"},model:{value:t.dataForm.applicationBenefits_en,callback:function(e){t.$set(t.dataForm,"applicationBenefits_en",e)},expression:"dataForm.applicationBenefits_en"}})],1)],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v("产品介绍（Introduction）")]),t._v(" "),a("WangEditor",{attrs:{value:t.dataForm.introduction_en},on:{"update:value":function(e){return t.$set(t.dataForm,"introduction_en",e)}}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.createProduct():t.editProduct()}}},[t._v("确定")])],1)],1)],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen_content_first"},[a("i",{staticClass:"el-icon-search"},[t._v("筛选搜索")]),t._v(" "),a("div",{staticClass:"screen_content_first_btutton"})])}],!1,null,"af535f3c",null);e.default=p.exports}}]);