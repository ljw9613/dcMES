(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-58bd148a","chunk-2d0c8d4c"],{3711:function(e,t,i){"use strict";i.r(t);var a=(i("7514"),i("7f7f"),i("c5f6"),i("ac6a"),i("ffc1"),i("313e")),r=i.n(a),o=i("570d");i("817d");var n={mixins:[o.default],props:{orderData:{type:Array},className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},watch:{orderData:{handler:function(e){for(var t=[],i=[],a=[],r=[],o=0;o<e.length;o++)for(var n=0;n<e[o].orderItems.length;n++){var l=e[o].orderItems[n];r.push({category:l.category,name:l.productName,price:l.price})}for(var s=Object.entries(Object.groupBy(r,(function(e){return e.category}))),d=0;d<s.length;d++){a.push(s[d][0]);for(var c=0,h=0;h<s[d][1].length;h++)c+=Number(s[d][1][h].price);t.push({name:s[d][0],value:c.toFixed(2)});for(var u=s[d][1],f=Object.entries(Object.groupBy(u,(function(e){return e.name}))),p=[],b=0;b<f.length;b++){for(var y=0,m=0;m<f[b][1].length;m++)y+=Number(f[b][1][m].price);p.push([f[b][0],y.toFixed(2)])}i.push({name:s[d][0],data:p}),this.option.series.data=t,this.drilldownData=i,this.option.xAxis.data=a,this.initChart()}}}},data:function(){return{isKid:!0,chart:null,option:{xAxis:{data:[],axisLabel:{interval:0,rotate:0},axisTick:{alignWithLabel:!0}},yAxis:{},dataGroupId:"",animationDurationUpdate:400,tooltip:{trigger:"item",formatter:"{b} : ({c} %)"},series:{type:"bar",id:"sales",itemStyle:{color:"#63a7e8"},data:[],universalTransition:{enabled:!0,divideShape:"clone"}},graphic:[]},drilldownData:[]}},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var e=this;this.chart=r.a.init(this.$el,"macarons"),this.chart.setOption(e.option),this.chart.on("click",(function(t){if(t.data){var i=e.drilldownData.find((function(e){return e.name===t.data.name}));if(!i)return;e.isKid=!0,e.chart.setOption({xAxis:{data:i.data.map((function(e){return e[0]}))},series:{type:"bar",id:"sales",dataGroupId:i.dataGroupId,data:i.data.map((function(e){return e[1]})),universalTransition:{enabled:!0,divideShape:"clone"}},graphic:[{type:"text",left:50,top:20,style:{text:"返回",fontSize:14},onclick:function(){e.isKid=!1,e.initChart()}}]})}}))}}},l=n,s=i("2877"),d=Object(s.a)(l,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.className,style:{height:e.height,width:e.width}})}),[],!1,null,null,null);t.default=d.exports},"570d":function(e,t,i){"use strict";i.r(t);var a=i("ed08");t.default={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var e=this;this.$_resizeHandler=Object(a.a)((function(){e.chart&&e.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}}},"817d":function(e,t,i){var a,r,o;r=[t,i("313e")],a=function(e,t){var i=function(e){"undefined"!=typeof console&&console&&console.error};if(t){var a=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],r={color:a,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:a[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{color:"#008acd",borderColor:"#008acd"},symbol:"emptyCircle",symbolSize:3},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{color:"#d87a80",color0:"#2ec7c9"},lineStyle:{width:1,color:"#d87a80",color0:"#2ec7c9"},areaStyle:{color:"#2ec7c9",color0:"#b6a2de"}},scatter:{symbol:"circle",symbolSize:4},map:{itemStyle:{color:"#ddd"},areaStyle:{color:"#fe994e"},label:{color:"#d87a80"}},graph:{itemStyle:{color:"#d87a80"},linkStyle:{color:"#2ec7c9"}},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}};t.registerTheme("macarons",r)}else i("ECharts is not Loaded")},void 0===(o="function"==typeof a?a.apply(t,r):a)||(e.exports=o)}}]);