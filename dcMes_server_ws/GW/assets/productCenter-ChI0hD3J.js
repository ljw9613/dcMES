import{_ as F,I as O,r as l,o as M,C as A,D as W,l as G,c as i,b as E,d as D,w as y,T as H,j as C,a as s,u as a,x as c,F as L,k as T,s as U,e as k,z as J,A as K}from"./index-Cm5HGVjo.js";/* empty css                                                                     */import{g as B}from"./api-Bwklrrn_.js";import{p as X}from"./productList-DGhhCnp_.js";const Y=d=>(J("data-v-a6b15b5d"),d=d(),K(),d),Z={class:"aboutUs"},$=Y(()=>E("img",{src:"https://www.world-machining.com/template/wode/skin/images/about_banner.jpg",alt:"",style:{width:"100%"}},null,-1)),Q={key:0},ee={key:2,class:"pagination"},te={__name:"productCenter",setup(d){const u=O();let m=l(null),_=l(10),w=l(1),h=l(!1);const v=()=>{h.value=window.innerWidth<=800};M(()=>{P(),window.addEventListener("resize",v),v(),console.log("ðŸš€ ~ onMounted ~ this.$route.query:",u.query),u.query.type&&(o.value=u.query.type,g(u.query.type)),p.value&&q.observe(p.value)}),A(()=>{window.removeEventListener("resize",v)}),W(()=>u.query,(e,n)=>{console.log("Route query changed:",e,n),e.type&&(o.value=e.type,g(e.type))});let p=l(null),z=l(!0);const N=e=>{e.target===p.value&&(z.value=!1)},q=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting&&(N(n),q.unobserve(n.target))})});let x=G(),f=l([]),o=l("");const P=async()=>{let e=await B("productCate");e.code===200&&(f.value=e.data,g())},I=(e,n)=>{g(e.props.name)};let R=l(""),b=l([]);const g=async e=>{R.value=e;let n={query:{category:e},limit:_.value,skip:(w.value-1)*_.value,count:!0},r=await B("companyProduct",n);r.code===200&&(r.data.length>0?b.value=r.data:b.value=[],m.value=r.countnum)};return(e,n)=>{const r=C("el-tab-pane"),V=C("el-tabs"),j=C("el-pagination");return s(),i("div",Z,[$,E("div",{ref_key:"boxOuter",ref:p},[D(H,{"enter-active-class":"animate__animated animate__fadeInUp"},{default:y(()=>[a(z)?k("",!0):(s(),i("div",Q,[a(h)?(s(),c(V,{key:0,"tab-position":"right",modelValue:a(o),"onUpdate:modelValue":n[0]||(n[0]=t=>U(o)?o.value=t:o=t),onTabClick:I},{default:y(()=>[(s(!0),i(L,null,T(a(f),(t,S)=>(s(),c(r,{key:S,label:a(x).mainLanguage=="chinese"?t.title:t.title_en,name:t.title},null,8,["label","name"]))),128))]),_:1},8,["modelValue"])):(s(),c(V,{key:1,"tab-position":"top",modelValue:a(o),"onUpdate:modelValue":n[1]||(n[1]=t=>U(o)?o.value=t:o=t),onTabClick:I},{default:y(()=>[(s(!0),i(L,null,T(a(f),(t,S)=>(s(),c(r,{key:t._id,label:a(x).mainLanguage=="chinese"?t.title:t.title_en,name:t.title},null,8,["label","name"]))),128))]),_:1},8,["modelValue"])),D(X,{productData:a(b),style:{width:"90%",margin:"20px auto"}},null,8,["productData"]),a(h)?k("",!0):(s(),i("div",ee,[a(m)?(s(),c(j,{key:0,background:"",class:"pagination",layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange,"current-page":a(w),"page-size":a(_),"page-sizes":[10,20,50,100],total:a(m)},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])):k("",!0)]))]))]),_:1})],512)])}}},se=F(te,[["__scopeId","data-v-a6b15b5d"]]);export{se as default};
