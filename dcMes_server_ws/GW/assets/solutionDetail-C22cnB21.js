import{B as C,S as D}from"./SolutionCard-D1ihwcix.js";import{g}from"./api-h7D4b6WS.js";import{p as w}from"./productList-DWWIroBe.js";import{_ as B,D as S,r as e,o as z,d as L,m as u,e as _,f as o,p as q,k as A,b as h,c as v}from"./index-CuPnuQSO.js";/* empty css                                                                     */const N={class:"page"},P={class:"pagecontent"},V={class:"pagination"},j={__name:"solutionDetail",setup(E){const c=S().query.id;console.log("id",c);let d=e([]),f=e(null),p=e(null),i=e(10),r=e(1);const b=async()=>{let t=await g("solution",{query:{}});if(t.code===200)if(d.value=t.data,!c)a.value=t.data[0],l(t.data[0]);else{let n=t.data.find(s=>s._id==c);a.value=n,l(n)}};let a=e({}),m=e([]);const y=async t=>{a.value=t,l(t)},l=async t=>{let n=t.productIds;console.log("ðŸš€ ~ getSolutionItem ~ productIds:",n,r,i);let s=await g("companyProduct",{query:{_id:{$in:n}},limit:i.value,skip:(r.value-1)*i.value,count:!0});m.value=s.data,p.value=s.countnum},x=t=>{r.value=t,l(a.value)},I=t=>{t.value=t,l(a.value)};return z(()=>{b()}),(t,n)=>{const s=h("el-image"),k=h("el-pagination");return v(),L("div",N,[u(s,{src:"https://www.world-machining.com/template/wode/skin/images/about_banner.jpg",fit:"cover",style:{width:"100%",height:"200px","margin-bottom":"4vh"}}),_("div",P,[u(C,{boxList:o(d),onGetSolutionItem:y,ref:"boxesDiv2",onBoxheight:t.boxheight},null,8,["boxList","onBoxheight"]),u(D,{solutionItem:o(a),style:{"margin-top":"2rem"}},null,8,["solutionItem"]),u(w,{ref_key:"pAbout",ref:f,productData:o(m)},null,8,["productData"]),_("div",V,[o(p)?(v(),q(k,{key:0,background:"",class:"pagination",layout:"total, sizes, prev, pager, next, jumper",onSizeChange:I,onCurrentChange:x,"current-page":o(r),"page-size":o(i),"page-sizes":[10,20,50,100],total:o(p)},null,8,["current-page","page-size","total"])):A("",!0)])])])}}},J=B(j,[["__scopeId","data-v-6725696f"]]);export{J as default};
