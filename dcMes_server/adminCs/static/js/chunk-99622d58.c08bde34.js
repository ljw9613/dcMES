(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-99622d58"],{"4f09":function(e,t,a){},a9b1:function(e,t,a){"use strict";a.r(t);var r=a("c7eb"),l=(a("96cf"),a("1da1")),o=a("5530"),i={name:"EditDialog",dicts:["templateType","businessType"],props:{visible:{type:Boolean,default:!1},dialogStatus:{type:String,default:"create"},rowData:{type:Object,default:function(){return{}}}},data:function(){return{dialogVisible:this.visible,form:{templateName:"",templateCode:"",templateType:"",businessType:"",config:{paperSize:"A4",orientation:"portrait",width:210,height:297},content:"",version:"1.0.0",isDefault:!1,status:!0,remark:""},rules:{templateName:[{required:!0,message:"请输入模板名称",trigger:"blur"}],templateCode:[{required:!0,message:"请输入模板编号",trigger:"blur"}],businessType:[{required:!0,message:"请选择业务类型",trigger:"change"}],"config.paperSize":[{required:!0,message:"请选择纸张大小",trigger:"change"}],"config.orientation":[{required:!0,message:"请选择打印方向",trigger:"change"}],version:[{required:!0,message:"请输入版本号",trigger:"blur"}]},submitLoading:!1}},computed:{dialogTitle:function(){return"create"===this.dialogStatus?"新增打印模板":"编辑打印模板"}},watch:{visible:function(e){this.dialogVisible=e,e&&this.initFormData()}},methods:{initFormData:function(){"edit"===this.dialogStatus?(this.form=Object(o.a)({},this.rowData),this.form.config=this.form.config||{paperSize:"A4",orientation:"portrait",width:210,height:297}):this.form={templateName:"",templateCode:"",templateType:"",businessType:"",config:{paperSize:"A4",orientation:"portrait",width:210,height:297},content:"",version:"1.0.0",isDefault:!1,status:!0,remark:""}},handleClose:function(){this.$emit("update:visible",!1),this.$refs.form&&this.$refs.form.resetFields()},handleSubmit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(l.a)(Object(r.a)().mark((function t(a){var l;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){e.submitLoading=!0;try{l=Object(o.a)({},e.form),e.$emit("submit",l),e.handleClose()}catch(t){console.error("提交失败:",t),e.$message.error("提交失败")}finally{e.submitLoading=!1}}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},s=i,n=(a("ecf1"),a("2877")),c=Object(n.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"60%"},on:{close:e.handleClose,"update:visible":function(t){return e.$emit("update:visible",t)}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px",size:"small"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"模板名称",prop:"templateName"}},[a("el-input",{attrs:{placeholder:"请输入模板名称"},model:{value:e.form.templateName,callback:function(t){e.$set(e.form,"templateName",t)},expression:"form.templateName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"模板编号",prop:"templateCode"}},[a("el-input",{attrs:{placeholder:"请输入模板编号"},model:{value:e.form.templateCode,callback:function(t){e.$set(e.form,"templateCode",t)},expression:"form.templateCode"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"模板类型",prop:"templateType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择模板类型"},model:{value:e.form.templateType,callback:function(t){e.$set(e.form,"templateType",t)},expression:"form.templateType"}},e._l(e.dict.type.templateType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"业务类型",prop:"businessType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择业务类型"},model:{value:e.form.businessType,callback:function(t){e.$set(e.form,"businessType",t)},expression:"form.businessType"}},e._l(e.dict.type.businessType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("模板配置")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"纸张大小",prop:"config.paperSize"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择纸张大小"},model:{value:e.form.config.paperSize,callback:function(t){e.$set(e.form.config,"paperSize",t)},expression:"form.config.paperSize"}},[a("el-option",{attrs:{label:"A4",value:"A4"}}),e._v(" "),a("el-option",{attrs:{label:"A5",value:"A5"}}),e._v(" "),a("el-option",{attrs:{label:"自定义",value:"custom"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"打印方向",prop:"config.orientation"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择打印方向"},model:{value:e.form.config.orientation,callback:function(t){e.$set(e.form.config,"orientation",t)},expression:"form.config.orientation"}},[a("el-option",{attrs:{label:"纵向",value:"portrait"}}),e._v(" "),a("el-option",{attrs:{label:"横向",value:"landscape"}})],1)],1)],1)],1),e._v(" "),"custom"===e.form.config.paperSize?a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"宽度(mm)",prop:"config.width"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:1,max:1e3},model:{value:e.form.config.width,callback:function(t){e.$set(e.form.config,"width",t)},expression:"form.config.width"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"高度(mm)",prop:"config.height"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:1,max:1e3},model:{value:e.form.config.height,callback:function(t){e.$set(e.form.config,"height",t)},expression:"form.config.height"}})],1)],1)],1):e._e(),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("模板内容")]),e._v(" "),a("el-form-item",{attrs:{label:"模板内容",prop:"content"}},[a("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入模板内容（HTML/JSON格式）"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("其他设置")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"版本号",prop:"version"}},[a("el-input",{attrs:{placeholder:"请输入版本号"},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否默认",prop:"isDefault"}},[a("el-switch",{model:{value:e.form.isDefault,callback:function(t){e.$set(e.form,"isDefault",t)},expression:"form.isDefault"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-switch",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注说明",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入备注说明"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.handleSubmit}},[e._v("确 定")])],1)],1)}),[],!1,null,"29b028a5",null);t.default=c.exports},ecf1:function(e,t,a){"use strict";a("4f09")}}]);