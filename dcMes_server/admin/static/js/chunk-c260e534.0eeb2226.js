(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c260e534","chunk-4ac572ed"],{"49e2":function(t,e,o){"use strict";o("ff8b")},"5aee":function(t,e,o){"use strict";var s=["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"].map((function(t){return"el-icon-"+t})),i={name:"IconSelects",props:["IconData"],data:function(){return{userChooseIcon:"",chooseIcons:"è¯·é€‰æ‹©å›¾æ ‡",iconList:[]}},watch:{IconData:function(t){t&&(console.log(t),this.userChooseIcon=t,this.chooseIcons=t)}},created:function(){this.iconList=s},methods:{editClicks:function(){this.userChooseIcon=this.IconData,this.chooseIcons=this.IconData},setIcon:function(t){console.log(t),this.userChooseIcon=t,this.chooseIcons=t,this.$emit("update:IconData",t)}}},n=i,a=(o("49e2"),o("2877")),l=Object(a.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"chooseIcons"},[o("el-popover",{attrs:{placement:"top-start","append-to-body":!1,width:"30vw",trigger:"click"}},[o("div",{staticClass:"iconDiv",attrs:{slot:"reference"},slot:"reference"},[o("div",{staticClass:"iconName"},[o("i",{class:t.userChooseIcon}),t._v("\n         "+t._s(t.chooseIcons))])]),t._v(" "),o("div",{staticClass:"iconList"},t._l(t.iconList,(function(e){return o("i",{key:e,class:[e,"icon"],staticStyle:{"font-size":"20px"},on:{click:function(o){return t.setIcon(e)}}})})),0)])],1)}),[],!1,null,"3b31ed31",null);e.a=l.exports},6175:function(t,e,o){"use strict";o("6800")},6800:function(t,e,o){},e277:function(t,e,o){"use strict";o.r(e);var s=o("5530"),i=o("c7eb"),n=(o("96cf"),o("1da1")),a=o("7e1e"),l=o("5aee"),r=o("46ac"),c={components:{IconSelect:l.a},porps:["dialogFormVisible"],data:function(){return{dialogFormVisible:!1,add:!0,_id:null,postList:{type:"ç›®å½•",parentId:null,sortNum:1,visible:!1,status:!0},optionsList:null,isShow:!1}},created:function(){var t=Object(n.a)(Object(i.a)().mark((function t(){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),methods:{getSelectData:function(){var t=Object(n.a)(Object(i.a)().mark((function t(){var e,o;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.b)("menu",{query:{},sort:{sortNum:1}});case 2:e=t.sent,o=e.data,console.log("ğŸš€ ~ getSelectData ~ dataList:",o),this.optionsList=Object(r.a)(o,null,[]),console.log(" this.optionsList",this.optionsList);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),AddClick:function(){var t=this;this.isShow=!1,this.postList={parentId:null,type:"ç›®å½•",sortNum:1,status:!0},this.add=!0,this.dialogFormVisible=!0,this.getSelectData(),this.$nextTick((function(){t.isShow=!0,t.$refs.IconSelects.editClicks()}))},EditClick:function(t){var e=this;this.add=!1,this.isShow=!0,this._id=t._id,this.postList=t,this.dialogFormVisible=!0,this.getSelectData(),this.$nextTick((function(){e.$forceUpdate(),e.$refs.IconSelects.editClicks()}))},createData:function(){var t=Object(n.a)(Object(i.a)().mark((function t(){var e,o;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("this.postList",!this.postList.menuName),this.postList.menuName){t.next=4;break}return this.$message.warning("èŠ‚ç‚¹æ ‡é¢˜ä¸èƒ½ä¸ºç©º"),t.abrupt("return");case 4:return e=Object(s.a)({},this.postList),console.log(e),t.next=8,Object(a.a)("menu",e);case 8:o=t.sent,console.log(o),o?(console.log(o),this.$emit("custom-event"),this.dialogFormVisible=!1,this.postList={parentId:null,type:"ç›®å½•",sortNum:1,status:!0},this.$notify({title:"æ·»åŠ èœå•æˆåŠŸ",message:"Add Successfully",type:"success",duration:2e3})):this.$notify({title:"æ·»åŠ å¤±è´¥ï¼Œè¯·é‡è¯•æˆ–åˆ·æ–°",message:"Add unsuccessful",type:"warning",duration:2e3});case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),handleClose:function(t){console.log(t)},editData:function(){if(this.postList.menuName){delete this.postList._id;var t={query:{_id:this._id},update:Object(s.a)({},this.postList)};console.log(t);var e=Object(a.d)("menu",t);console.log(e),this.dialogFormVisible=!1,this.$emit("custom-event"),this.$notify({title:"ä¿®æ”¹æˆåŠŸ",message:"edit Successfully",type:"success",duration:2e3})}else this.$message.warning("èŠ‚ç‚¹æ ‡é¢˜ä¸èƒ½ä¸ºç©º")},getParentId:function(t){console.log(t),Array.isArray(t)&&(this.postList.parentId=t[t.length-1],console.log(this.postList.parentId))}}},u=c,d=o("2877"),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container"},[o("el-dialog",{attrs:{title:t.add?"æ·»åŠ èœå•":"ç¼–è¾‘èœå•",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[t.isShow?o("el-form",{ref:"dataForm",attrs:{"label-position":"right"},model:{value:t.postList,callback:function(e){t.postList=e},expression:"postList"}},[o("el-form-item",{attrs:{label:"ç±»å‹","label-width":"100px"}},[o("el-radio-group",{model:{value:t.postList.type,callback:function(e){t.$set(t.postList,"type",e)},expression:"postList.type"}},[o("el-radio",{attrs:{label:"ç›®å½•"}},[t._v("ç›®å½•")]),t._v(" "),o("el-radio",{attrs:{label:"èœå•"}},[t._v("èœå•")]),t._v(" "),o("el-radio",{attrs:{label:"æƒé™"}},[t._v("æƒé™")])],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"èŠ‚ç‚¹æ ‡é¢˜","label-width":"100px"}},[o("el-input",{attrs:{placeholder:"è¯·è¾“å…¥èŠ‚ç‚¹æ ‡é¢˜"},model:{value:t.postList.menuName,callback:function(e){t.$set(t.postList,"menuName",e)},expression:"postList.menuName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"ä¸Šçº§èŠ‚ç‚¹","label-width":"100px"}},[o("el-cascader",{attrs:{options:t.optionsList,props:{checkStrictly:!0,value:"_id",label:"menuName"},clearable:"",filterable:"",placeholder:"è¯·é€‰æ‹©ä¸Šçº§èŠ‚ç‚¹"},on:{change:t.getParentId},model:{value:t.postList.parentId,callback:function(e){t.$set(t.postList,"parentId",e)},expression:"postList.parentId"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"èœå•é¡ºåº","label-width":"100px"}},[o("el-input-number",{attrs:{max:1e3,min:0,label:"èœå•é¡ºåº"},model:{value:t.postList.sortNum,callback:function(e){t.$set(t.postList,"sortNum",e)},expression:"postList.sortNum"}})],1),t._v(" "),o("el-divider"),t._v(" "),"æƒé™"!=t.postList.type?o("el-form-item",{attrs:{label:"è·¯ç”±è·¯å¾„","label-width":"100px"}},[o("el-input",{attrs:{placeholder:"è¯·è¾“å…¥è·¯ç”±è·¯å¾„"},model:{value:t.postList.path,callback:function(e){t.$set(t.postList,"path",e)},expression:"postList.path"}})],1):t._e(),t._v(" "),"èœå•"===t.postList.type?o("el-form-item",{attrs:{label:"æ–‡ä»¶è·¯å¾„","label-width":"100px"}},[o("el-input",{attrs:{placeholder:"è¯·è¾“å…¥æ–‡ä»¶è·¯å¾„"},model:{value:t.postList.component,callback:function(e){t.$set(t.postList,"component",e)},expression:"postList.component"}})],1):t._e(),t._v(" "),"èœå•"===t.postList.type?o("el-form-item",{attrs:{label:"ä¼ é€’å‚æ•°","label-width":"100px"}},[o("el-input",{attrs:{placeholder:"è¯·è¾“å…¥è®¿é—®è·¯ç”±çš„é»˜è®¤ä¼ é€’å‚æ•°"},model:{value:t.postList.query,callback:function(e){t.$set(t.postList,"query",e)},expression:"postList.query"}})],1):t._e(),t._v(" "),"æƒé™"===t.postList.type?o("el-form-item",{attrs:{label:"æƒé™æ ‡ç­¾","label-width":"100px"}},[o("el-input",{attrs:{placeholder:"è¯·è¾“å…¥æƒé™æ ‡ç­¾"},model:{value:t.postList.perms,callback:function(e){t.$set(t.postList,"perms",e)},expression:"postList.perms"}})],1):t._e(),t._v(" "),"æƒé™"!=t.postList.type?o("el-form-item",{attrs:{label:"èŠ‚ç‚¹å›¾æ ‡","label-width":"100px"}},[o("IconSelect",{ref:"IconSelects",attrs:{IconData:t.postList.icon},on:{"update:IconData":function(e){return t.$set(t.postList,"icon",e)},"update:icon-data":function(e){return t.$set(t.postList,"icon",e)}}})],1):t._e(),t._v(" "),o("el-form-item",{attrs:{label:"æ˜¯å¦æ˜¾ç¤º","label-width":"100px"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.postList.visible,callback:function(e){t.$set(t.postList,"visible",e)},expression:"postList.visible"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"æ˜¯å¦å¯ç”¨","label-width":"100px"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.postList.status,callback:function(e){t.$set(t.postList,"status",e)},expression:"postList.status"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"å¤‡æ³¨","label-width":"100px"}},[o("el-input",{attrs:{placeholder:"è¯·è¾“å…¥å¤‡æ³¨",type:"textarea"},model:{value:t.postList.remark,callback:function(e){t.$set(t.postList,"remark",e)},expression:"postList.remark"}})],1)],1):t._e(),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("å–æ¶ˆ")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.add?t.createData():t.editData()}}},[t._v("ç¡®å®š\n      ")])],1)],1)],1)}),[],!1,null,"52fad1e6",null);e.default=p.exports},f833:function(t,e,o){"use strict";o.r(e);var s=o("5530"),i=o("c7eb"),n=(o("96cf"),o("1da1")),a=o("7e1e"),l=o("e277"),r=o("cf1e"),c=o.n(r),u=o("46ac"),d={components:{menuDialog:l.default},data:function(){return{list:[],backupslist:null,listLoading:!0,downloadLoading:!1,inputVisible:!1,rows:"",dialogFormVisible:!1,dialogFormVisible1:!1,seachdataname:"",add:!0,temp:[],postlist:{}}},created:function(){this.fetchData()},methods:{variables:function(){return{background:c.a.tableBg,color:c.a.tableText,"font-weight":c.a.tableTextWeight}},fetchData:function(){var t=Object(n.a)(Object(i.a)().mark((function t(){var e,o;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.listLoading=!0,this.list=[],t.next=4,Object(a.b)("menu",{query:{},sort:{sortNum:1}});case 4:e=t.sent,o=e.data,this.list=Object(u.a)(o,null,[]),console.log(this.list),this.listLoading=!1;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),handleFilter:function(){this.$refs.menuDialogRef.AddClick()},createData:function(){var t=this,e=Object(s.a)({},this.postlist);console.log(e),postmenu(e).then((function(e){e?(console.log(e),t.fetchData(),console.log(t.list),t.dialogFormVisible=!1,t.postlist={label:"",value:"",sort:0,type:"èœå•"},t.$notify({title:"æ·»åŠ Success",message:"Add Successfully",type:"success",duration:2e3})):t.$notify({title:"Addå¤±è´¥ï¼Œè¯·é‡è¯•æˆ–åˆ·æ–°",message:"Add unsuccessful",type:"warning",duration:2e3})}))},handleClose:function(t){console.log(t),this.temp.splice(t,1)},handleEdit:function(t){this.$refs.menuDialogRef.EditClick(t)},editData:function(){var t=this,e=this.postlist._id;delete this.postlist._id;var o={query:{_id:e},update:Object(s.a)({},this.postlist)};console.log(o),putmenu(o).then((function(e){console.log(e),200==e.code?(t.dialogFormVisible=!1,t.fetchData(),t.$notify({title:"ä¿®æ”¹æˆåŠŸ",message:"edit Successfully",type:"success",duration:2e3})):t.$notify({title:"ä¿®æ”¹å¤±è´¥ï¼Œè¯·é‡æ–°åˆ·æ–°",message:"edit failly",type:"warning",duration:2e3})}))},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick((function(e){t.$refs.saveTagInput.$refs.input.focus()}))},handleDelete:function(t,e){var o=this;console.log(t),this.$confirm("ç¡®å®šåˆ é™¤"+t.menuName+"å—ï¼Ÿ").then(function(){var e=Object(n.a)(Object(i.a)().mark((function e(s){var n,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={query:{_id:t._id}},e.next=3,Object(a.c)("menu",n);case 3:l=e.sent,console.log(l),o.fetchData(),o.$notify({title:"åˆ é™¤æˆåŠŸ",message:"å·²å°†"+t.menuName+"åˆ é™¤",type:"danger",duration:2e3});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){o.dialogVisible=!1}))},handleDownload:function(){var t=this;this.downloadLoading=!0,Promise.all([o.e("chunk-6e83591c"),o.e("chunk-ce0ae100"),o.e("chunk-5837544a")]).then(o.bind(null,"4bf8d")).then((function(e){var o=Object.getOwnPropertyNames(t.list[0]),s=o,i=o,n=t.formatJson(i);e.export_json_to_excel({header:s,data:n,filename:"èŒä½ä¿¡æ¯è¡¨"}),t.downloadLoading=!1}))},formatJson:function(t){return this.list.map((function(e){return t.map((function(t){return"Add_time"===t?parseTime(e[t]):e[t]}))}))},imgSaveToUrl:function(t,e,o){var s=this;console.log(o),console.log(t.raw),this.localFile=t.raw;var i=new FormData;i.append("file",this.localFile),console.log(i),postmenuimg(i).then((function(t){if(2e4==t.code){var e=t.filename;console.log(e),s.temp1[o].subImg=e}else that.$message.error(t.message)}))},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t}}},p=d,f=(o("6175"),o("2877")),m=Object(f.a)(p,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container"},[o("div",{staticClass:"filter-container"},[o("el-button",{staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:t.handleFilter}},[t._v("æ·»åŠ èœå•\n    ")])],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.list,"header-cell-style":t.variables(),"tree-props":{children:"children"},border:"","element-loading-text":"Loading",fit:"","highlight-current-row":"","row-key":"_id"}},[o("el-table-column",{attrs:{align:"left",fixed:"left",label:"èœå•æ ‡é¢˜",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.menuName))])]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"å›¾æ ‡"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.icon?o("i",{class:e.row.icon}):o("span",{class:e.row.icon},[t._v("æ— ")])]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"ç±»å‹"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.type))])]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"èœå•é¡ºåº"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.sortNum))])]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"èŠ‚ç‚¹è·¯ç”±"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.path))])]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"æ–‡ä»¶è·¯å¾„"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.component))])]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"ä¼ é€’å‚æ•°"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.query))])]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"æƒé™æ ‡ç­¾"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.perms))])]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"æ˜¯å¦å¯è§"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.visible?"å¯è§":"éšè—"))])]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"çŠ¶æ€"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-tag",{attrs:{type:1==e.row.status?"success":"danger"}},[t._v(t._s(e.row.status?"å¯ç”¨":"ç¦ç”¨")+"\n        ")])]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"æ›´æ–°æ—¶é—´",prop:"created_at",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("i",{staticClass:"el-icon-time"}),t._v(" "),o("span",[t._v(t._s(t._f("parseTime")(e.row.updateAt,"{y}-{m}-{d} {h}:{i}")))])]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",fixed:"right",label:"æ“ä½œ",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[o("el-button",{staticStyle:{color:"blue"},attrs:{size:"mini",type:"text"},on:{click:function(e){return t.handleEdit(s)}}},[t._v("ç¼–è¾‘\n        ")]),t._v(" "),o("el-button",{staticStyle:{color:"red"},attrs:{size:"mini",type:"text"},on:{click:function(e){return t.handleDelete(s)}}},[t._v("åˆ é™¤\n        ")])]}}])})],1),t._v(" "),o("menuDialog",{ref:"menuDialogRef",attrs:{dialogFormVisible:t.dialogFormVisible},on:{"custom-event":t.fetchData}})],1)}),[],!1,null,"79dbdc59",null);e.default=m.exports},ff8b:function(t,e,o){}}]);