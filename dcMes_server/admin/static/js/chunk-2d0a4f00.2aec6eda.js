(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0a4f00"],{"0923":function(e,t,a){"use strict";a.r(t);var l=a("c7eb"),r=(a("96cf"),a("1da1")),o=a("5530"),i={name:"EditDialog",props:{visible:{type:Boolean,default:!1},dialogStatus:{type:String,default:"create"},rowData:{type:Object,default:function(){return{}}}},data:function(){return{dialogVisible:this.visible,form:{equipmentName:"",equipmentCode:"",equipmentIp:"",equipmentType:"检测设备",collectionMethod:"OPC",status:"离线",factoryName:"",productionLineName:"",remarks:""},rules:{equipmentName:[{required:!0,message:"请输入设备名称",trigger:"blur"}],equipmentCode:[{required:!0,message:"请输入设备编码",trigger:"blur"}],equipmentIp:[{required:!0,message:"请输入设备IP",trigger:"blur"}],equipmentType:[{required:!0,message:"请输入设备类型",trigger:"blur"}],collectionMethod:[{required:!0,message:"请选择采集方式",trigger:"change"}],status:[{required:!0,message:"请选择设备状态",trigger:"change"}],factoryName:[{required:!0,message:"请输入厂区名称",trigger:"blur"}],productionLineName:[{required:!0,message:"请输入产线名称",trigger:"blur"}]},submitLoading:!1}},computed:{dialogTitle:function(){return"create"===this.dialogStatus?"新增设备信息":"编辑设备信息"}},watch:{visible:function(e){this.dialogVisible=e,e&&this.initFormData()},rowData:{handler:function(e){e&&this.dialogVisible&&this.initFormData()},deep:!0}},methods:{initFormData:function(){"edit"===this.dialogStatus?this.form=Object(o.a)({},this.rowData):this.form={equipmentName:"",equipmentCode:"",equipmentIp:"",equipmentType:"检测设备",collectionMethod:"OPC",status:"离线",factoryName:"",productionLineName:"",remarks:""}},handleClose:function(){this.$emit("update:visible",!1),this.$refs.form&&this.$refs.form.resetFields()},handleSubmit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(r.a)(Object(l.a)().mark((function t(a){var r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){e.submitLoading=!0;try{r=Object(o.a)({},e.form),e.$emit("submit",r),e.handleClose()}catch(t){e.$message.error("提交失败")}finally{e.submitLoading=!1}}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},s=i,n=a("2877"),u=Object(n.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"60%"},on:{close:e.handleClose,"update:visible":function(t){return e.$emit("update:visible",t)}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px",size:"small"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设备名称",prop:"equipmentName"}},[a("el-input",{attrs:{placeholder:"请输入设备名称"},model:{value:e.form.equipmentName,callback:function(t){e.$set(e.form,"equipmentName",t)},expression:"form.equipmentName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设备编码",prop:"equipmentCode"}},[a("el-input",{attrs:{placeholder:"请输入设备编码",disabled:"edit"===e.dialogStatus},model:{value:e.form.equipmentCode,callback:function(t){e.$set(e.form,"equipmentCode",t)},expression:"form.equipmentCode"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设备IP",prop:"equipmentIp"}},[a("el-input",{attrs:{placeholder:"请输入设备IP"},model:{value:e.form.equipmentIp,callback:function(t){e.$set(e.form,"equipmentIp",t)},expression:"form.equipmentIp"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设备类型",prop:"equipmentType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择设备类型"},model:{value:e.form.equipmentType,callback:function(t){e.$set(e.form,"equipmentType",t)},expression:"form.equipmentType"}},[a("el-option",{attrs:{label:"检测设备",value:"检测设备"}}),e._v(" "),a("el-option",{attrs:{label:"打印设备",value:"打印设备"}}),e._v(" "),a("el-option",{attrs:{label:"一体机",value:"一体机"}})],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"采集方式",prop:"collectionMethod"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择采集方式"},model:{value:e.form.collectionMethod,callback:function(t){e.$set(e.form,"collectionMethod",t)},expression:"form.collectionMethod"}},[a("el-option",{attrs:{label:"OPC",value:"OPC"}}),e._v(" "),a("el-option",{attrs:{label:"ModbusTCP",value:"ModbusTCP"}}),e._v(" "),a("el-option",{attrs:{label:"TCP/IP",value:"TCP/IP"}}),e._v(" "),a("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设备状态",prop:"status"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择设备状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"运行中",value:"运行中"}}),e._v(" "),a("el-option",{attrs:{label:"停机",value:"停机"}}),e._v(" "),a("el-option",{attrs:{label:"故障",value:"故障"}}),e._v(" "),a("el-option",{attrs:{label:"离线",value:"离线"}})],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"厂区名称",prop:"factoryName"}},[a("el-input",{attrs:{placeholder:"请输入厂区名称"},model:{value:e.form.factoryName,callback:function(t){e.$set(e.form,"factoryName",t)},expression:"form.factoryName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产线名称",prop:"productionLineName"}},[a("el-input",{attrs:{placeholder:"请输入产线名称"},model:{value:e.form.productionLineName,callback:function(t){e.$set(e.form,"productionLineName",t)},expression:"form.productionLineName"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注信息"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.handleSubmit}},[e._v("确 定")])],1)],1)}),[],!1,null,null,null);t.default=u.exports}}]);