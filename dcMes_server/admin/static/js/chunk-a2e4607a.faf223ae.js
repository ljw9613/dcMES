(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a2e4607a","chunk-35657bc8"],{1117:function(e,t,a){"use strict";a.r(t);var r=(a("f576"),a("c7eb")),n=(a("96cf"),a("1da1")),i=a("7e1e"),s=a("a71f"),o=(a("9339"),a("77d2")),l={name:"ProductionLine",components:{EditDialog:s.default},data:function(){return{searchForm:{lineCode:"",lineName:"",lineNum:"",state:""},tableList:[],total:0,currentPage:1,pageSize:10,listLoading:!0,dialogFormVisible:!1,dialogStatus:"",selection:[],dataForm:{}}},methods:{getLineTypeText:function(e){return{ASSEMBLY:"组装线",SMT:"SMT线",TESTING:"测试线",PACKAGING:"包装线",OTHER:"其他"}[e]||e},getStatusText:function(e){return{RUNNING:"运行中",STOPPED:"已停止",MAINTENANCE:"维护中",INACTIVE:"未启用"}[e]||e},getStatusType:function(e){return{RUNNING:"success",STOPPED:"info",MAINTENANCE:"warning",INACTIVE:"danger"}[e]||"info"},searchData:function(){var e={query:{$and:[]}};return this.searchForm.lineCode&&e.query.$and.push({lineCode:{$regex:this.searchForm.lineCode,$options:"i"}}),this.searchForm.lineName&&e.query.$and.push({lineName:{$regex:this.searchForm.lineName,$options:"i"}}),this.searchForm.lineNum&&e.query.$and.push({lineNum:{$regex:this.searchForm.lineNum,$options:"i"}}),""!==this.searchForm.state&&e.query.$and.push({state:this.searchForm.state}),e.query.$and.length||delete e.query.$and,e},resetForm:function(){this.$refs.searchForm.resetFields(),this.searchForm={lineCode:"",lineName:"",lineNum:"",state:""},this.currentPage=1,this.fetchData()},fetchData:function(){var e=Object(n.a)(Object(r.a)().mark((function e(){var t,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.listLoading=!0,e.prev=1,(t=this.searchData()).page=this.currentPage,t.skip=(this.currentPage-1)*this.pageSize,t.limit=this.pageSize,t.count=!0,e.next=9,Object(i.b)("production_line",t);case 9:a=e.sent,this.tableList=a.data,this.total=a.countnum,e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("获取数据失败:",e.t0),this.$message.error("获取数据失败");case 18:return e.prev=18,this.listLoading=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[1,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),baseTableHandleCurrentChange:function(e){this.currentPage=e,this.fetchData()},baseTableHandleSizeChange:function(e){this.pageSize=e,this.fetchData()},formatDate:function(e){if(!e)return"暂无数据";var t=new Date(e);if(isNaN(t.getTime()))return"无效日期";var a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return"".concat(a,"-").concat(r,"-").concat(n)},search:function(){this.currentPage=1,this.fetchData()},handleSelectionChange:function(e){this.selection=e},handleView:function(e){this.dataForm=JSON.parse(JSON.stringify(e)),this.dialogStatus="view",this.dialogFormVisible=!0},handleRefresh:function(){var e=Object(n.a)(Object(r.a)().mark((function e(t){var a=this;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.$confirm("确认要刷新设备吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n.a)(Object(r.a)().mark((function e(){var n,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Object(i.b)("machine",{query:{lineId:t._id}});case 3:if(n=e.sent,s=n.data.map((function(e){return e._id})),s.length){e.next=8;break}return a.$message.warning("当前产线无可刷新设备"),e.abrupt("return");case 8:return e.next=10,Object(o.b)({machineIds:s});case 10:a.$message.success("设备在线状态刷新成功");case 11:case"end":return e.stop()}}),e)})))).catch((function(){a.$message.info("已取消刷新")}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),handleEdit:function(e){this.dialogStatus="edit",this.dataForm=JSON.parse(JSON.stringify(e)),this.dialogFormVisible=!0},handleDelete:function(e){var t=this;this.$confirm("确认要删除该产线吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n.a)(Object(r.a)().mark((function a(){return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(i.c)("production_line",e._id);case 3:t.$message.success("删除成功"),t.fetchData(),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),console.error("删除失败:",a.t0),t.$message.error("删除失败");case 11:case"end":return a.stop()}}),a,null,[[0,7]])})))).catch((function(){t.$message.info("已取消删除")}))},handleAdd:function(){this.dialogStatus="create",this.dataForm={},this.dialogFormVisible=!0},handleBatchDelete:function(){var e=this;this.selection.length?this.$confirm("确认删除选中的 ".concat(this.selection.length," 条记录吗？"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n.a)(Object(r.a)().mark((function t(){var a;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.selection.map((function(e){return e._id})),t.next=4,Object(i.c)("production_line",{query:{_id:{$in:a}}});case 4:e.$message.success("批量删除成功"),e.fetchData(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("批量删除失败:",t.t0),e.$message.error("批量删除失败");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).catch((function(){})):this.$message.warning("请选择要删除的记录")},handleSubmit:function(){var e=Object(n.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"create"!==this.dialogStatus){e.next=7;break}return e.next=4,Object(i.a)("production_line",t);case 4:this.$message.success("新增成功"),e.next=10;break;case 7:return e.next=9,Object(i.d)("production_line",{query:{_id:t._id},update:t});case 9:this.$message.success("更新成功");case 10:this.dialogFormVisible=!1,this.fetchData(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("操作失败:",e.t0),this.$message.error("操作失败");case 18:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},created:function(){this.fetchData()}},c=l,u=(a("1bf8"),a("2877")),m=Object(u.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"filter-container"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("筛选搜索")])]),e._v(" "),a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{model:e.searchForm}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产线编码"}},[a("el-input",{attrs:{placeholder:"请输入产线编码",clearable:""},model:{value:e.searchForm.lineCode,callback:function(t){e.$set(e.searchForm,"lineCode",t)},expression:"searchForm.lineCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产线名称"}},[a("el-input",{attrs:{placeholder:"请输入产线名称",clearable:""},model:{value:e.searchForm.lineName,callback:function(t){e.$set(e.searchForm,"lineName",t)},expression:"searchForm.lineName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"车间线路编号"}},[a("el-input",{attrs:{placeholder:"请输入车间线路编号",clearable:""},model:{value:e.searchForm.lineNum,callback:function(t){e.$set(e.searchForm,"lineNum",t)},expression:"searchForm.lineNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择状态",clearable:""},model:{value:e.searchForm.state,callback:function(t){e.$set(e.searchForm,"state",t)},expression:"searchForm.state"}},[a("el-option",{attrs:{label:"正常",value:1}}),e._v(" "),a("el-option",{attrs:{label:"作废",value:0}})],1)],1)],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询搜索")]),e._v(" "),a("el-button",{on:{click:e.resetForm}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新增产线")]),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:!e.selection.length},on:{click:e.handleBatchDelete}},[e._v("批量删除")])],1)],1)],1),e._v(" "),e._m(0),e._v(" "),a("base-table",{ref:"baseTable",attrs:{currentPage:e.currentPage,"highlight-current-row":!0,pageSize:e.pageSize,tableData:e.tableList,tableDataloading:e.listLoading,total:e.total},on:{"selection-change":e.handleSelectionChange,handleCurrentChange:e.baseTableHandleCurrentChange,handleSizeChange:e.baseTableHandleSizeChange}},[a("template",{slot:"law"},[a("el-table-column",{attrs:{label:"产线编码",align:"center",prop:"lineCode"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.handleView(t.row)}}},[e._v(e._s(t.row.lineCode))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"产线名称",align:"center",prop:"lineName",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"车间线路编号",align:"center",prop:"lineNum",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"接收器卡号",align:"center",prop:"cardNum",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"IP地址",align:"center",prop:"ipAddress",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1===t.row.state?"success":"danger"}},[e._v("\n                        "+e._s(1===t.row.state?"正常":"作废")+"\n                    ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"标准产能",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.capacity||"-")+" 件/时\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"所属车间",align:"center",prop:"workshop",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"区域",align:"center",prop:"area",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.formatDate(t.row.createAt))+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleRefresh(t.row)}}},[a("i",{staticClass:"el-icon-refresh"}),e._v(" 设备刷新\n                    ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleEdit(t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v(" 编辑\n                    ")]),e._v(" "),a("el-button",{staticClass:"delete-btn",attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDelete(t.row)}}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除\n                    ")])]}}])})],1)],2),e._v(" "),a("edit-dialog",{attrs:{visible:e.dialogFormVisible,"dialog-status":e.dialogStatus,"row-data":e.dataForm},on:{"update:visible":function(t){e.dialogFormVisible=t},submit:e.handleSubmit}})],1)}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"screen1"},[a("div",{staticClass:"screen_content"},[a("div",{staticClass:"screen_content_first"},[a("i",{staticClass:"el-icon-tickets"},[e._v("生产产线列表")])])])])}],!1,null,"79007b5b",null);t.default=m.exports},"1bf8":function(e,t,a){"use strict";a("f4db")},6010:function(e,t,a){"use strict";a("e8d1")},"77d2":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var r=a("b775");function n(e){return Object(r.a)({url:"/machine/progress",method:"get",params:e})}function i(e){return Object(r.a)({url:"/machine/refresh",method:"post",data:e})}},a71f:function(e,t,a){"use strict";a.r(t);var r=a("5530"),n=a("c7eb"),i=(a("96cf"),a("1da1")),s=(a("6762"),a("2fdb"),a("3b8b")),o=(a("7e1e"),a("ed91")),l={name:"EditDialog",components:{workDialog:s.a},props:{visible:{type:Boolean,default:!1},dialogStatus:{type:String,default:"create"},rowData:{type:Object,default:function(){return{}}}},data:function(){return{form:{lineCode:"",lineName:"",lineNum:"",state:1,cardNum:"",machineNum:"",ipAddress:"",capacity:0,cycleTime:0,workers:0,workshop:"",area:"",location:"",remark:"",currentMaterial:null},rules:{lineCode:[{required:!0,message:"请输入产线编码",trigger:"blur"}],lineName:[{required:!0,message:"请输入产线名称",trigger:"blur"}],state:[{required:!0,message:"请选择状态",trigger:"change"}],cardNum:[{required:!0,message:"请输入接收器卡号",trigger:"blur"}]},submitLoading:!1,workTableData:[],workDialogVisible:!1,hasOneKeyProductionPermission:!1}},computed:{dialogTitle:function(){return"create"===this.dialogStatus?"新增生产产线":"编辑生产产线"}},mounted:function(){var e=this.$store.getters.roles;if(!e||!e.buttonList)return!1;e.buttonList.includes("one_click_production")&&(this.hasOneKeyProductionPermission=!0)},watch:{visible:function(e){e&&this.initFormData()}},methods:{handleOneKeyProduction:function(){var e=Object(i.a)(Object(n.a)().mark((function e(){var t,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.form.currentMaterial){e.next=4;break}return this.$message.error("请先选择生产物料"),e.abrupt("return");case 4:return e.next=6,Object(o.b)(this.form.currentMaterial);case 6:if(t=e.sent,a=t.data,console.log("获取到的工序:",a),0!==a.length){e.next=12;break}return this.$message.error("该物料没有对应的工艺"),e.abrupt("return");case 12:this.workTableData=a,console.log(this.workTableData,"this.workTableData"),this.workDialogVisible=!0,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),this.$message.error("获取工序数据失败");case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),initFormData:function(){"edit"===this.dialogStatus?this.form=Object(r.a)({},this.rowData):this.form={lineCode:"",lineName:"",lineNum:"",state:1,cardNum:"",machineNum:"",ipAddress:"",capacity:0,cycleTime:0,workers:0,workshop:"",area:"",location:"",remark:""}},handleClose:function(){this.$emit("update:visible",!1),this.$refs.form&&this.$refs.form.resetFields()},handleSubmit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(i.a)(Object(n.a)().mark((function t(a){var i;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){e.submitLoading=!0;try{i=Object(r.a)({},e.form),e.$emit("submit",i),e.handleClose()}catch(t){console.error("提交失败:",t),e.$message.error("提交失败")}finally{e.submitLoading=!1}}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},c=l,u=(a("6010"),a("2877")),m=Object(u.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.visible,width:"60%"},on:{"update:visible":function(t){e.visible=t},close:e.handleClose}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px",size:"small"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产线编码",prop:"lineCode"}},[a("el-input",{attrs:{placeholder:"请输入产线编码",disabled:"edit"===e.dialogStatus},model:{value:e.form.lineCode,callback:function(t){e.$set(e.form,"lineCode",t)},expression:"form.lineCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产线名称",prop:"lineName"}},[a("el-input",{attrs:{placeholder:"请输入产线名称"},model:{value:e.form.lineName,callback:function(t){e.$set(e.form,"lineName",t)},expression:"form.lineName"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"车间线路编号",prop:"lineNum"}},[a("el-input",{attrs:{placeholder:"请输入车间线路编号"},model:{value:e.form.lineNum,callback:function(t){e.$set(e.form,"lineNum",t)},expression:"form.lineNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态",prop:"state"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择状态"},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[a("el-option",{attrs:{label:"正常",value:1}}),e._v(" "),a("el-option",{attrs:{label:"作废",value:0}})],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"接收器卡号",prop:"cardNum"}},[a("el-input",{attrs:{placeholder:"请输入接收器卡号"},model:{value:e.form.cardNum,callback:function(t){e.$set(e.form,"cardNum",t)},expression:"form.cardNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"接收器机号",prop:"machineNum"}},[a("el-input",{attrs:{placeholder:"请输入接收器机号"},model:{value:e.form.machineNum,callback:function(t){e.$set(e.form,"machineNum",t)},expression:"form.machineNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"IP地址",prop:"ipAddress"}},[a("el-input",{attrs:{placeholder:"请输入IP地址"},model:{value:e.form.ipAddress,callback:function(t){e.$set(e.form,"ipAddress",t)},expression:"form.ipAddress"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"标准产能",prop:"capacity"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,"controls-position":"right",placeholder:"件/小时"},model:{value:e.form.capacity,callback:function(t){e.$set(e.form,"capacity",t)},expression:"form.capacity"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"节拍时间",prop:"cycleTime"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,"controls-position":"right",placeholder:"秒"},model:{value:e.form.cycleTime,callback:function(t){e.$set(e.form,"cycleTime",t)},expression:"form.cycleTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"标准人数",prop:"workers"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,"controls-position":"right",placeholder:"人"},model:{value:e.form.workers,callback:function(t){e.$set(e.form,"workers",t)},expression:"form.workers"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"所属车间",prop:"workshop"}},[a("el-input",{attrs:{placeholder:"请输入所属车间"},model:{value:e.form.workshop,callback:function(t){e.$set(e.form,"workshop",t)},expression:"form.workshop"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"区域",prop:"area"}},[a("el-input",{attrs:{placeholder:"请输入区域"},model:{value:e.form.area,callback:function(t){e.$set(e.form,"area",t)},expression:"form.area"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"具体位置",prop:"location"}},[a("el-input",{attrs:{placeholder:"请输入具体位置"},model:{value:e.form.location,callback:function(t){e.$set(e.form,"location",t)},expression:"form.location"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注信息"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),"edit"==e.dialogStatus&&e.hasOneKeyProductionPermission?a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"tip-box"},[a("p",[e._v("请勿随意修改当前产线的生产主物料")])])])],1):e._e(),e._v(" "),"edit"==e.dialogStatus&&e.hasOneKeyProductionPermission?a("el-form-item",{attrs:{label:"一键生产"}},[a("zr-select",{attrs:{collection:"k3_BD_MATERIAL","search-fields":["FNumber","FName"],"label-key":"FName","sub-key":"FMATERIALID",multiple:!1,placeholder:"请输入物料编码/名称搜索"},scopedSlots:e._u([{key:"option",fn:function(t){var r=t.item;return[a("div",{staticClass:"select-option"},[a("div",{staticClass:"option-main"},[a("span",{staticClass:"option-label"},[e._v(e._s(r.FNumber)+" - "+e._s(r.FName))]),e._v(" "),a("el-tag",{staticClass:"option-tag",attrs:{size:"mini",type:"info"}},[e._v("\n                                "+e._s(r.FMATERIALID)+" - "+e._s(r.FUseOrgId)+"\n                            ")])],1),e._v(" "),r.FSpecification?a("div",{staticClass:"option-sub"},[a("small",[e._v("规格: "+e._s(r.FSpecification))])]):e._e()])]}}],null,!1,1426375288),model:{value:e.form.currentMaterial,callback:function(t){e.$set(e.form,"currentMaterial",t)},expression:"form.currentMaterial"}}),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:!e.form.currentMaterial},on:{click:function(t){return e.handleOneKeyProduction()}}},[e._v("一键生产")])],1):e._e()],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.handleSubmit}},[e._v("确 定")])],1),e._v(" "),e.workDialogVisible?a("work-dialog",{attrs:{"line-id":e.form._id,visible:e.workDialogVisible,"material-id":e.form.currentMaterial,"work-table-data":e.workTableData},on:{"update:visible":function(t){e.workDialogVisible=t}}}):e._e()],1)}),[],!1,null,"7ec1834f",null);t.default=m.exports},e8d1:function(e,t,a){},ed91:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return l}));var r=a("b775");function n(e){return Object(r.a)({url:"/create-flow",method:"post",data:e})}function i(e){return Object(r.a)({url:"/scan-components",method:"post",data:e})}function s(e){return Object(r.a)({url:"/unbind-components",method:"post",data:e})}function o(e){return Object(r.a)({url:"/update-flow-nodes",method:"post",data:e})}function l(e){return Object(r.a)({url:"/all-process-steps/".concat(e),method:"get"})}},f4db:function(e,t,a){}}]);