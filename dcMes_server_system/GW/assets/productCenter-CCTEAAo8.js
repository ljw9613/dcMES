import{_ as F,r as o,o as O,A as R,l as A,c as d,b,d as L,w as v,T as M,j as h,a as l,u as a,s as i,F as D,k as T,q as U,e as B,x as W,y as G}from"./index-BJ4jCTgx.js";/* empty css                                                                     */import{g as E}from"./api-Bwklrrn_.js";import{p as H}from"./productList-C5C2wnad.js";const J=u=>(W("data-v-bf6f88e8"),u=u(),G(),u),K={class:"aboutUs"},Q=J(()=>b("img",{src:"https://www.world-machining.com/template/wode/skin/images/about_banner.jpg",alt:"",style:{width:"100%"}},null,-1)),X={key:0},Y={class:"pagination"},Z={__name:"productCenter",setup(u){let p=o(null),g=o(10),w=o(1),C=o(!1);const m=()=>{C.value=window.innerWidth<=800};O(()=>{P(),window.addEventListener("resize",m),m(),c.value&&y.observe(c.value)}),R(()=>{window.removeEventListener("resize",m)});let c=o(null),k=o(!0);const N=e=>{e.target===c.value&&(k.value=!1)},y=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting&&(N(n),y.unobserve(n.target))})});let z=A(),_=o([]),s=o("");const P=async()=>{let e=await E("productCate");e.code===200&&(_.value=e.data,V())},x=(e,n)=>{V(e.props.name)};let j=o(""),f=o([]);const V=async e=>{j.value=e;let n={query:{category:e},limit:g.value,skip:(w.value-1)*g.value,count:!0},r=await E("companyProduct",n);r.code===200&&(r.data.length>0?f.value=r.data:f.value=[],p.value=r.countnum)};return(e,n)=>{const r=h("el-tab-pane"),I=h("el-tabs"),q=h("el-pagination");return l(),d("div",K,[Q,b("div",{ref_key:"boxOuter",ref:c},[L(M,{"enter-active-class":"animate__animated animate__fadeInUp"},{default:v(()=>[a(k)?B("",!0):(l(),d("div",X,[a(C)?(l(),i(I,{key:0,"tab-position":"right",modelValue:a(s),"onUpdate:modelValue":n[0]||(n[0]=t=>U(s)?s.value=t:s=t),onTabClick:x},{default:v(()=>[(l(!0),d(D,null,T(a(_),(t,S)=>(l(),i(r,{key:S,label:a(z).mainLanguage=="chinese"?t.title:t.title_en,name:t.title},null,8,["label","name"]))),128))]),_:1},8,["modelValue"])):(l(),i(I,{key:1,"tab-position":"top",modelValue:a(s),"onUpdate:modelValue":n[1]||(n[1]=t=>U(s)?s.value=t:s=t),onTabClick:x},{default:v(()=>[(l(!0),d(D,null,T(a(_),(t,S)=>(l(),i(r,{key:t._id,label:a(z).mainLanguage=="chinese"?t.title:t.title_en,name:t.title},null,8,["label","name"]))),128))]),_:1},8,["modelValue"])),L(H,{productData:a(f),style:{width:"90%",margin:"20px auto"}},null,8,["productData"]),b("div",Y,[a(p)?(l(),i(q,{key:0,background:"",class:"pagination",layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange,"current-page":a(w),"page-size":a(g),"page-sizes":[10,20,50,100],total:a(p)},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])):B("",!0)])]))]),_:1})],512)])}}},ne=F(Z,[["__scopeId","data-v-bf6f88e8"]]);export{ne as default};
