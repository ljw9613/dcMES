(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-288ffec8"],{"1f24":function(e,t,a){"use strict";a.r(t);var r=a("c7eb"),o=(a("96cf"),a("1da1")),l=(a("bb50"),{dicts:["expert_platform","task_type","content_type","category"],name:"EditDialog",props:{dialogFormVisible:{type:Boolean,default:!1},dialogStatus:{type:String,default:"create"},dataForm:{type:Object,required:!0}},data:function(){var e=this;return{taskTypeOptions:[{value:"品牌宣传",label:"品牌宣传"},{value:"达人推广",label:"达人推广"},{value:"达人直播",label:"达人直播"},{value:"达人视频",label:"达人视频"},{value:"直播带货",label:"直播带货"}],platformOptions:[{value:"抖音",label:"抖音"},{value:"小红书",label:"小红书"},{value:"B站",label:"B站"},{value:"微博",label:"微博"}],contentTypeOptions:[{value:"短视频",label:"短视频"},{value:"直播",label:"直播"},{value:"图文",label:"图文"}],expertCategoryOptions:[{value:"美妆",label:"美妆"},{value:"服装",label:"服装"},{value:"美食",label:"美食"},{value:"母婴",label:"母婴"}],remarkTypeOptions:[{value:"图片",label:"图片"},{value:"视频",label:"视频"},{value:"文档",label:"文档"}],rules:{title:[{required:!0,message:"请输入任务标题",trigger:"blur"}],type:[{required:!0,message:"请选择任务类型",trigger:"change"}],description:[{required:!0,message:"请输入任务描述",trigger:"blur"}],startTime:[{required:!0,message:"请选择开始时间",trigger:"change"}],endTime:[{required:!0,message:"请选择结束时间",trigger:"change"},{validator:function(t,a,r){a&&e.dataForm.startTime&&a<e.dataForm.startTime?r(new Error("结束时间不能早于开始时间")):r()},trigger:"change"}],"cooperationDetails.brandName":[{required:!0,message:"请输入品牌名称",trigger:"blur"}],"cooperationDetails.requirements.platformType":[{required:!0,message:"请选择合作平台",trigger:"change"}],"cooperationDetails.requirements.contentType":[{required:!0,message:"请选择内容形式",trigger:"change"}],"cooperationDetails.commercialTerms.budget":[{required:!0,message:"请输入项目预算",trigger:"blur"}]}}},methods:{addMaterial:function(){this.dataForm.cooperationDetails.remarks.push({name:"",type:"",url:"",description:"",uploadTime:new Date})},removeMaterial:function(e){this.dataForm.cooperationDetails.remarks.splice(e,1)},submitForm:function(){var e=this;this.$refs.dataForm.validate(function(){var t=Object(o.a)(Object(r.a)().mark((function t(a){var o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=7;break}o=JSON.parse(JSON.stringify(e.dataForm)),"create"===e.dialogStatus&&(o.createTime=new Date),o.updateTime=new Date,e.$emit("submit",o),t.next=8;break;case 7:return t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}}),i=l,s=(a("b7d7"),a("2877")),n=Object(s.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"task-dialog",attrs:{title:"create"===e.dialogStatus?"新建任务":"编辑任务",visible:e.dialogFormVisible,width:"70%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.rules,"label-width":"120px"}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v("基本信息")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入任务标题"},model:{value:e.dataForm.title,callback:function(t){e.$set(e.dataForm,"title",t)},expression:"dataForm.title"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务类型",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择任务类型"},model:{value:e.dataForm.type,callback:function(t){e.$set(e.dataForm,"type",t)},expression:"dataForm.type"}},e._l(e.dict.type.task_type,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"任务描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入任务描述"},model:{value:e.dataForm.description,callback:function(t){e.$set(e.dataForm,"description",t)},expression:"dataForm.description"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开始时间",prop:"startTime"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择开始时间"},model:{value:e.dataForm.startTime,callback:function(t){e.$set(e.dataForm,"startTime",t)},expression:"dataForm.startTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结束时间",prop:"endTime"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择结束时间"},model:{value:e.dataForm.endTime,callback:function(t){e.$set(e.dataForm,"endTime",t)},expression:"dataForm.endTime"}})],1)],1)],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("品牌合作信息")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"品牌名称",prop:"cooperationDetails.brandName"}},[a("el-input",{attrs:{placeholder:"请输入品牌名称"},model:{value:e.dataForm.cooperationDetails.brandName,callback:function(t){e.$set(e.dataForm.cooperationDetails,"brandName",t)},expression:"dataForm.cooperationDetails.brandName"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产品名称",prop:"cooperationDetails.productName"}},[a("el-input",{attrs:{placeholder:"请输入产品名称"},model:{value:e.dataForm.cooperationDetails.productName,callback:function(t){e.$set(e.dataForm.cooperationDetails,"productName",t)},expression:"dataForm.cooperationDetails.productName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产品品类",prop:"cooperationDetails.productCategory"}},[a("el-input",{attrs:{placeholder:"请输入产品品类"},model:{value:e.dataForm.cooperationDetails.productCategory,callback:function(t){e.$set(e.dataForm.cooperationDetails,"productCategory",t)},expression:"dataForm.cooperationDetails.productCategory"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"产品详情",prop:"cooperationDetails.productDetails"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入产品详情描述"},model:{value:e.dataForm.cooperationDetails.productDetails,callback:function(t){e.$set(e.dataForm.cooperationDetails,"productDetails",t)},expression:"dataForm.cooperationDetails.productDetails"}})],1)],1)],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("合作要求")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合作平台",prop:"cooperationDetails.requirements.platformType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择合作平台"},model:{value:e.dataForm.cooperationDetails.requirements.platformType,callback:function(t){e.$set(e.dataForm.cooperationDetails.requirements,"platformType",t)},expression:"dataForm.cooperationDetails.requirements.platformType"}},e._l(e.dict.type.expert_platform,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"内容形式",prop:"cooperationDetails.requirements.contentType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择内容形式"},model:{value:e.dataForm.cooperationDetails.requirements.contentType,callback:function(t){e.$set(e.dataForm.cooperationDetails.requirements,"contentType",t)},expression:"dataForm.cooperationDetails.requirements.contentType"}},e._l(e.dict.type.content_type,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"粉丝数要求",prop:"cooperationDetails.requirements.expertRequirements.fansCountMin"}},[a("el-input-number",{staticStyle:{width:"40%"},attrs:{min:0},model:{value:e.dataForm.cooperationDetails.requirements.expertRequirements.fansCountMin,callback:function(t){e.$set(e.dataForm.cooperationDetails.requirements.expertRequirements,"fansCountMin",t)},expression:"dataForm.cooperationDetails.requirements.expertRequirements.fansCountMin"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("-")]),e._v(" "),a("el-input-number",{staticStyle:{width:"40%"},attrs:{min:0},model:{value:e.dataForm.cooperationDetails.requirements.expertRequirements.fansCountMax,callback:function(t){e.$set(e.dataForm.cooperationDetails.requirements.expertRequirements,"fansCountMax",t)},expression:"dataForm.cooperationDetails.requirements.expertRequirements.fansCountMax"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"达人类目",prop:"cooperationDetails.requirements.expertRequirements.expertCategory"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择达人分类",clearable:""},model:{value:e.dataForm.cooperationDetails.requirements.expertRequirements.expertCategory,callback:function(t){e.$set(e.dataForm.cooperationDetails.requirements.expertRequirements,"expertCategory",t)},expression:"dataForm.cooperationDetails.requirements.expertRequirements.expertCategory"}},e._l(e.dict.type.category,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("商务条款")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"达人预算",prop:"cooperationDetails.commercialTerms.budget"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:e.dataForm.cooperationDetails.commercialTerms.budget,callback:function(t){e.$set(e.dataForm.cooperationDetails.commercialTerms,"budget",t)},expression:"dataForm.cooperationDetails.commercialTerms.budget"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"佣金比例",prop:"cooperationDetails.commercialTerms.commissionRate"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,max:100},model:{value:e.dataForm.cooperationDetails.commercialTerms.commissionRate,callback:function(t){e.$set(e.dataForm.cooperationDetails.commercialTerms,"commissionRate",t)},expression:"dataForm.cooperationDetails.commercialTerms.commissionRate"}})],1)],1)],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("KPI目标")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"播放量目标",prop:"cooperationDetails.kpiTargets.viewsTarget"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:e.dataForm.cooperationDetails.kpiTargets.viewsTarget,callback:function(t){e.$set(e.dataForm.cooperationDetails.kpiTargets,"viewsTarget",t)},expression:"dataForm.cooperationDetails.kpiTargets.viewsTarget"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"互动量目标",prop:"cooperationDetails.kpiTargets.interactionTarget"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:e.dataForm.cooperationDetails.kpiTargets.interactionTarget,callback:function(t){e.$set(e.dataForm.cooperationDetails.kpiTargets,"interactionTarget",t)},expression:"dataForm.cooperationDetails.kpiTargets.interactionTarget"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"销售目标",prop:"cooperationDetails.kpiTargets.salesTarget"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:e.dataForm.cooperationDetails.kpiTargets.salesTarget,callback:function(t){e.$set(e.dataForm.cooperationDetails.kpiTargets,"salesTarget",t)},expression:"dataForm.cooperationDetails.kpiTargets.salesTarget"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"达人数量目标",prop:"cooperationDetails.kpiTargets.expertCount"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:e.dataForm.cooperationDetails.kpiTargets.expertCount,callback:function(t){e.$set(e.dataForm.cooperationDetails.kpiTargets,"expertCount",t)},expression:"dataForm.cooperationDetails.kpiTargets.expertCount"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"视频数量目标",prop:"cooperationDetails.kpiTargets.videoCount"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:e.dataForm.cooperationDetails.kpiTargets.videoCount,callback:function(t){e.$set(e.dataForm.cooperationDetails.kpiTargets,"videoCount",t)},expression:"dataForm.cooperationDetails.kpiTargets.videoCount"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"直播场次目标",prop:"cooperationDetails.kpiTargets.liveStreamCount"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:e.dataForm.cooperationDetails.kpiTargets.liveStreamCount,callback:function(t){e.$set(e.dataForm.cooperationDetails.kpiTargets,"liveStreamCount",t)},expression:"dataForm.cooperationDetails.kpiTargets.liveStreamCount"}})],1)],1)],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("备注信息")]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addMaterial}},[e._v("添加备注")])],1),e._v(" "),e._l(e.dataForm.cooperationDetails.remarks,(function(t,r){return a("div",{key:r,staticClass:"remark-item"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"备注名称"+(r+1),prop:"cooperationDetails.remarks."+r+".name"}},[a("el-input",{attrs:{placeholder:"请输入备注名称"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"remark.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"备注类型",prop:"cooperationDetails.remarks."+r+".type"}},[a("el-input",{attrs:{placeholder:"请输入备注类型"},model:{value:t.type,callback:function(a){e.$set(t,"type",a)},expression:"remark.type"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"备注链接",prop:"cooperationDetails.remarks."+r+".url"}},[a("el-input",{attrs:{placeholder:"请输入备注链接"},model:{value:t.url,callback:function(a){e.$set(t,"url",a)},expression:"remark.url"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.removeMaterial(r)}}})],1)],1)],1)}))],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)}),[],!1,null,"88ae6a6e",null);t.default=n.exports},"49e2":function(e,t,a){},b7d7:function(e,t,a){"use strict";a("49e2")}}]);